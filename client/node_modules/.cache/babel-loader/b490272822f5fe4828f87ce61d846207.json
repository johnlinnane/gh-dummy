{"ast":null,"code":"var _jsxFileName = \"/Users/johnlinnane/DEV/tc-book/client/src/components/Items/item_view.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport Slick from 'react-slick'; // uses cdn css\n// import style from './slider.module.css';\n// import { Document, Page, pdfjs } from 'react-pdf';\n\nimport PDFViewer from 'pdf-viewer-reactjs'; // import { getBookWithReviewer, clearBookWithReviewer } from '../../actions'; // OLD !\n\nimport { getItemWithContributor, clearItemWithContributor, getAllCats, getAllSubCats, getNextItem, getPrevItem } from '../../actions';\nimport NavigationBar from '../../widgetsUI/navigation'; // import Image from '../../widgetsUI/Slider/slider';\n\nimport ItemImageSlider from '../../widgetsUI/Slider/item_img_slider'; // pdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\n\nclass ItemView extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      pdfError: false,\n      numPages: null,\n      pageNumber: 1\n    };\n    this.navInfo = {\n      catTitle: null,\n      catId: null,\n      subCatTitle: null,\n      subCatId: null,\n      type: 'Categories'\n    };\n\n    this.addDefaultImg = ev => {\n      const newImg = '/images/default/default.jpg';\n\n      if (ev.target.src !== newImg) {\n        ev.target.src = newImg;\n      }\n    };\n\n    this.getCatName = catId => {\n      if (this.props.cats && this.props.cats.length) {\n        this.props.cats.map(cat => {\n          if (cat.cat_id === catId[0]) {\n            // console.log(cat.title);\n            this.navInfo.catTitle = cat.title;\n            this.navInfo.catId = cat.cat_id;\n          }\n\n          return null;\n        });\n      }\n    };\n\n    this.getSubCatName = subCatId => {\n      // console.log(subCatId);\n      if (this.props.subcats && this.props.subcats.length) {\n        this.props.subcats.map(subcat => {\n          if (subcat.subcat_id == subCatId[0]) {\n            // console.log(cat.title);\n            this.navInfo.subCatTitle = subcat.title;\n            this.navInfo.subCatId = subcat.subcat_id;\n          }\n        });\n      }\n    };\n\n    this.nextItem = () => {};\n\n    this.renderField = (text, ref) => {\n      if (ref) {\n        return /*#__PURE__*/React.createElement(\"p\", {\n          className: \"item_field\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"b\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 43\n          }\n        }, text, \": \"), ref);\n      }\n    };\n\n    this.renderSlider = items => {\n      const settings = {\n        dots: true,\n        infinite: false,\n        arrows: true,\n        speed: 500,\n        slidesToShow: 1,\n        slidesToScroll: 1 // ...props.settings\n\n      }; // console.log(items.item.number_files);\n      // let template = () => { \n      //     for (let i = 0; i < items.item.number_files; i++) {\n      //         return(\n      //             <div key={i}>\n      //                 <div className={style.featured_item}>\n      //                     <div className={style.featured_image}\n      //                         style={{\n      //                             background: `url(/images/items/${items.item._id}/original/0.jpg)`\n      //                             // <img src={`/images/items/${items.item._id}/original/0.jpg`} alt=\"Item\" onError={this.addDefaultImg}/>\n      //                         }}\n      //                     >\n      //                     </div>\n      //                 </div>\n      //             </div>\n      //         )\n      //     }\n      // }\n\n      var divs = []; // for (var i = 0; i < items.item.number_files; i++) {\n      //     divs.push( \n      //         <div key={i} className={style.featured_item}> \n      //             <div className={style.featured_image} \n      //                  style={{\n      //                     background: `url(/images/items/${items.item._id}/original/${i}.jpg)`\n      //                     // <img src={`/images/items/${items.item._id}/original/0.jpg`} alt=\"Item\" onError={this.addDefaultImg}/>\n      //                  }}\n      //             >\n      //                 {i}\n      //             </div>\n      //         </div>\n      //     )\n      // }\n\n      return /*#__PURE__*/React.createElement(Slick, Object.assign({}, settings, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 16\n        }\n      }), divs);\n    };\n\n    this.renderItem = items => {\n      const {\n        pageNumber,\n        numPages\n      } = this.state;\n      console.log(items);\n      return items.item ? /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(ItemImageSlider, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 17\n        }\n      }), this.navInfo.catTitle ? /*#__PURE__*/React.createElement(NavigationBar, {\n        navinfo: this.navInfo,\n        title: items.item.title,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 21\n        }\n      }) : null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"item_container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"item_header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 25\n        }\n      }, items.item.title), items.item.file_format === 'pdf' ? /*#__PURE__*/React.createElement(PDFViewer, {\n        document: {\n          url: '/images/items/5eb4417bf2ff151113f3e178/original/0.pdf'\n        },\n        scale: 0.5,\n        scaleStep: 0.05,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 29\n        }\n      }) : null, items.item && items.item.number_files == 1 ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"item_img\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: `/images/items/${items.item._id}/original/0.jpg`,\n        alt: \"Item\",\n        onError: this.addDefaultImg,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 33\n        }\n      })) : null, items.item && items.item.number_files > 1 ? this.renderSlider(items) : null, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 25\n        }\n      }), items.item.creator ? /*#__PURE__*/React.createElement(\"h5\", {\n        className: \"item_field\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 29\n        }\n      }, \"Creator: \", items.item.creator) : null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"item_reviewer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"item_field\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 29\n        }\n      }, items.contributor && items.contributor.name && items.contributor.lastname ? /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 37\n        }\n      }, \"Submitted by: \", items.contributor.name, \" \", items.contributor.lastname, \" - \") : null, /*#__PURE__*/React.createElement(Link, {\n        to: `/user/edit-item/${this.props.match.params.id}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 33\n        }\n      }, \"Edit\")))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"item_review\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 21\n        }\n      }, items.item.subject ? /*#__PURE__*/React.createElement(\"p\", {\n        className: \"item_field\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 33\n        }\n      }, \"Subject: \"), /*#__PURE__*/React.createElement(\"span\", {\n        dangerouslySetInnerHTML: {\n          __html: items.item.subject\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 33\n        }\n      })) : null, items.item.description ? /*#__PURE__*/React.createElement(\"p\", {\n        className: \"item_field\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 33\n        }\n      }, \"Description: \"), /*#__PURE__*/React.createElement(\"span\", {\n        dangerouslySetInnerHTML: {\n          __html: items.item.description\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 33\n        }\n      })) : null, this.renderField('Source', items.item.source), this.renderField('Date Created', items.item.date_created), this.renderField('Contributor', items.item.contributor), this.renderField('Item Format', items.item.item_format), this.renderField('Materials', items.item.materials), this.renderField('Physical Dimensions', items.item.physical_dimensions), this.renderField('Pages', items.item.pages), this.renderField('Editor', items.item.editor), this.renderField('Publisher', items.item.publisher), this.renderField('Further Info', items.item.further_info), items.item && items.item.external_link && items.item.external_link[0].url ? /*#__PURE__*/React.createElement(\"span\", {\n        className: \"item_field\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 36\n        }\n      }, \"External Link: \"), /*#__PURE__*/React.createElement(\"a\", {\n        href: items.item.external_link[0].url,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 58\n        }\n      }, items.item.external_link[0].text))) : null, items.item && items.item.geo ? this.renderField('Address', items.item.geo.address) : null), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"item_review\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"item_box\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 25\n        }\n      }, this.props.previtem ? /*#__PURE__*/React.createElement(Link, {\n        to: `/items/${this.props.previtem._id}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"white_txt\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 41\n        }\n      }, \"Previous Item\")), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 41\n        }\n      }, this.props.previtem.title))) : null), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 25\n        }\n      }, this.props.nextitem ? /*#__PURE__*/React.createElement(Link, {\n        to: `/items/${this.props.nextitem._id}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"white_txt\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 41\n        }\n      }, \"Next Item\")), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 41\n        }\n      }, this.props.nextitem.title))) : null)))) : null;\n    };\n  }\n\n  // componentWillMount() {\n  componentDidMount() {\n    this.props.dispatch(getAllCats());\n    this.props.dispatch(getAllSubCats());\n    this.props.dispatch(getItemWithContributor(this.props.match.params.id));\n    this.props.dispatch(getNextItem(this.props.match.params.id));\n    this.props.dispatch(getPrevItem(this.props.match.params.id));\n  }\n\n  componentWillReceiveProps() {}\n\n  componentWillUnmount() {\n    this.props.dispatch(clearItemWithContributor());\n  }\n\n  render() {\n    // console.log(this.props);\n    let items = this.props.items; // console.log(items.item);\n\n    if (items.item && items.item.category_ref) {\n      {\n        this.getCatName(items.item.category_ref);\n      }\n    }\n\n    if (items.item && items.item.subcategory_ref) {\n      // console.log(items.item);\n      {\n        this.getSubCatName(items.item.subcategory_ref);\n      }\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 13\n      }\n    }, this.renderItem(items));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    items: state.items,\n    cats: state.cats.cats,\n    subcats: state.cats.subcats,\n    nextitem: state.items.nextitem,\n    previtem: state.items.previtem\n  };\n}\n\nexport default connect(mapStateToProps)(ItemView);","map":{"version":3,"sources":["/Users/johnlinnane/DEV/tc-book/client/src/components/Items/item_view.js"],"names":["React","Component","connect","Link","Slick","PDFViewer","getItemWithContributor","clearItemWithContributor","getAllCats","getAllSubCats","getNextItem","getPrevItem","NavigationBar","ItemImageSlider","ItemView","state","pdfError","numPages","pageNumber","navInfo","catTitle","catId","subCatTitle","subCatId","type","addDefaultImg","ev","newImg","target","src","getCatName","props","cats","length","map","cat","cat_id","title","getSubCatName","subcats","subcat","subcat_id","nextItem","renderField","text","ref","renderSlider","items","settings","dots","infinite","arrows","speed","slidesToShow","slidesToScroll","divs","renderItem","console","log","item","file_format","url","number_files","_id","creator","contributor","name","lastname","match","params","id","subject","__html","description","source","date_created","item_format","materials","physical_dimensions","pages","editor","publisher","further_info","external_link","geo","address","previtem","nextitem","componentDidMount","dispatch","componentWillReceiveProps","componentWillUnmount","render","category_ref","subcategory_ref","mapStateToProps"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,KAAP,MAAkB,aAAlB,C,CAAmC;AAGnC;AAEA;;AACA,OAAOC,SAAP,MAAsB,oBAAtB,C,CAKA;;AACA,SAASC,sBAAT,EAAiCC,wBAAjC,EAA2DC,UAA3D,EAAuEC,aAAvE,EAAsFC,WAAtF,EAAmGC,WAAnG,QAAsH,eAAtH;AACA,OAAOC,aAAP,MAA0B,4BAA1B,C,CACA;;AACA,OAAOC,eAAP,MAA4B,wCAA5B,C,CAGA;;AAKA,MAAMC,QAAN,SAAuBb,SAAvB,CAAiC;AAAA;AAAA;AAAA,SAE7Bc,KAF6B,GAErB;AACJC,MAAAA,QAAQ,EAAE,KADN;AAEJC,MAAAA,QAAQ,EAAE,IAFN;AAGJC,MAAAA,UAAU,EAAE;AAHR,KAFqB;AAAA,SA+B7BC,OA/B6B,GA+BnB;AACNC,MAAAA,QAAQ,EAAE,IADJ;AAENC,MAAAA,KAAK,EAAE,IAFD;AAGNC,MAAAA,WAAW,EAAE,IAHP;AAINC,MAAAA,QAAQ,EAAE,IAJJ;AAKNC,MAAAA,IAAI,EAAE;AALA,KA/BmB;;AAAA,SAuC7BC,aAvC6B,GAuCZC,EAAD,IAAQ;AACpB,YAAMC,MAAM,GAAG,6BAAf;;AACA,UAAID,EAAE,CAACE,MAAH,CAAUC,GAAV,KAAkBF,MAAtB,EAA8B;AAC1BD,QAAAA,EAAE,CAACE,MAAH,CAAUC,GAAV,GAAgBF,MAAhB;AACH;AACJ,KA5C4B;;AAAA,SA8C7BG,UA9C6B,GA8CfT,KAAD,IAAW;AACpB,UAAI,KAAKU,KAAL,CAAWC,IAAX,IAAmB,KAAKD,KAAL,CAAWC,IAAX,CAAgBC,MAAvC,EAA+C;AAC3C,aAAKF,KAAL,CAAWC,IAAX,CAAgBE,GAAhB,CAAqBC,GAAG,IAAI;AAExB,cAAIA,GAAG,CAACC,MAAJ,KAAef,KAAK,CAAC,CAAD,CAAxB,EAA6B;AACzB;AACA,iBAAKF,OAAL,CAAaC,QAAb,GAAwBe,GAAG,CAACE,KAA5B;AACA,iBAAKlB,OAAL,CAAaE,KAAb,GAAqBc,GAAG,CAACC,MAAzB;AACH;;AACD,iBAAO,IAAP;AACH,SARD;AASH;AACJ,KA1D4B;;AAAA,SA4D7BE,aA5D6B,GA4DZf,QAAD,IAAc;AAC1B;AACA,UAAI,KAAKQ,KAAL,CAAWQ,OAAX,IAAsB,KAAKR,KAAL,CAAWQ,OAAX,CAAmBN,MAA7C,EAAqD;AACjD,aAAKF,KAAL,CAAWQ,OAAX,CAAmBL,GAAnB,CAAwBM,MAAM,IAAI;AAE9B,cAAIA,MAAM,CAACC,SAAP,IAAoBlB,QAAQ,CAAC,CAAD,CAAhC,EAAqC;AACjC;AACA,iBAAKJ,OAAL,CAAaG,WAAb,GAA2BkB,MAAM,CAACH,KAAlC;AACA,iBAAKlB,OAAL,CAAaI,QAAb,GAAwBiB,MAAM,CAACC,SAA/B;AAEH;AACJ,SARD;AASH;AACJ,KAzE4B;;AAAA,SA4E7BC,QA5E6B,GA4ElB,MAAM,CAEhB,CA9E4B;;AAAA,SAgF7BC,WAhF6B,GAgFf,CAACC,IAAD,EAAOC,GAAP,KAAe;AACzB,UAAIA,GAAJ,EAAS;AACL,4BACI;AAAG,UAAA,SAAS,EAAC,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAA0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAID,IAAJ,OAA1B,EAA0CC,GAA1C,CADJ;AAGH;AACJ,KAtF4B;;AAAA,SAyF7BC,YAzF6B,GAyFbC,KAAD,IAAW;AAGtB,YAAMC,QAAQ,GAAG;AACbC,QAAAA,IAAI,EAAE,IADO;AAEbC,QAAAA,QAAQ,EAAE,KAFG;AAGbC,QAAAA,MAAM,EAAE,IAHK;AAIbC,QAAAA,KAAK,EAAE,GAJM;AAKbC,QAAAA,YAAY,EAAE,CALD;AAMbC,QAAAA,cAAc,EAAE,CANH,CAOb;;AAPa,OAAjB,CAHsB,CAatB;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;AAIA,UAAIC,IAAI,GAAG,EAAX,CAtCsB,CAwCtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0BAAO,oBAAC,KAAD,oBAAWP,QAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAsBO,IAAtB,CAAP;AAGH,KAnJ4B;;AAAA,SAsJ7BC,UAtJ6B,GAsJfT,KAAD,IAAW;AACpB,YAAM;AAAE7B,QAAAA,UAAF;AAAcD,QAAAA;AAAd,UAA2B,KAAKF,KAAtC;AAEA0C,MAAAA,OAAO,CAACC,GAAR,CAAYX,KAAZ;AACA,aAASA,KAAK,CAACY,IAAN,gBAEL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAGM,KAAKxC,OAAL,CAAaC,QAAb,gBACE,oBAAC,aAAD;AAAe,QAAA,OAAO,EAAE,KAAKD,OAA7B;AAAsC,QAAA,KAAK,EAAE4B,KAAK,CAACY,IAAN,CAAWtB,KAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,GAEA,IALN,eAOI;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAGI;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKU,KAAK,CAACY,IAAN,CAAWtB,KAAhB,CAFJ,EAKKU,KAAK,CAACY,IAAN,CAAWC,WAAX,KAA2B,KAA3B,gBACG,oBAAC,SAAD;AACI,QAAA,QAAQ,EAAE;AACNC,UAAAA,GAAG,EAAE;AADC,SADd;AAII,QAAA,KAAK,EAAE,GAJX;AAKI,QAAA,SAAS,EAAE,IALf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADH,GAQC,IAbN,EA4BMd,KAAK,CAACY,IAAN,IAAcZ,KAAK,CAACY,IAAN,CAAWG,YAAX,IAA2B,CAAzC,gBACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,GAAG,EAAG,iBAAgBf,KAAK,CAACY,IAAN,CAAWI,GAAI,iBAA1C;AAA4D,QAAA,GAAG,EAAC,MAAhE;AAAuE,QAAA,OAAO,EAAE,KAAKtC,aAArF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CADF,GAIA,IAhCN,EAkCMsB,KAAK,CAACY,IAAN,IAAcZ,KAAK,CAACY,IAAN,CAAWG,YAAX,GAA0B,CAAxC,GACE,KAAKhB,YAAL,CAAkBC,KAAlB,CADF,GAEA,IApCN,eAuCI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAvCJ,EA0CKA,KAAK,CAACY,IAAN,CAAWK,OAAX,gBACG;AAAI,QAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAqCjB,KAAK,CAACY,IAAN,CAAWK,OAAhD,CADH,GAEC,IA5CN,eA+CI;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAM,QAAA,SAAS,EAAC,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACMjB,KAAK,CAACkB,WAAN,IAAqBlB,KAAK,CAACkB,WAAN,CAAkBC,IAAvC,IAA+CnB,KAAK,CAACkB,WAAN,CAAkBE,QAAjE,gBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAqBpB,KAAK,CAACkB,WAAN,CAAkBC,IAAvC,OAA8CnB,KAAK,CAACkB,WAAN,CAAkBE,QAAhE,QADF,GAEA,IAHN,eAII,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAG,mBAAkB,KAAKpC,KAAL,CAAWqC,KAAX,CAAiBC,MAAjB,CAAwBC,EAAG,EAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJJ,CADJ,CA/CJ,CAHJ,eA6DI;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEMvB,KAAK,CAACY,IAAN,CAAWY,OAAX,gBACE;AAAG,QAAA,SAAS,EAAC,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADJ,eAEI;AAAM,QAAA,uBAAuB,EAAE;AAACC,UAAAA,MAAM,EAAGzB,KAAK,CAACY,IAAN,CAAWY;AAArB,SAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CADF,GAKA,IAPN,EAUMxB,KAAK,CAACY,IAAN,CAAWc,WAAX,gBACE;AAAG,QAAA,SAAS,EAAC,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADJ,eAEI;AAAM,QAAA,uBAAuB,EAAE;AAACD,UAAAA,MAAM,EAAEzB,KAAK,CAACY,IAAN,CAAWc;AAApB,SAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CADF,GAKA,IAfN,EAkBK,KAAK9B,WAAL,CAAiB,QAAjB,EAA2BI,KAAK,CAACY,IAAN,CAAWe,MAAtC,CAlBL,EAmBK,KAAK/B,WAAL,CAAiB,cAAjB,EAAiCI,KAAK,CAACY,IAAN,CAAWgB,YAA5C,CAnBL,EAoBK,KAAKhC,WAAL,CAAiB,aAAjB,EAAgCI,KAAK,CAACY,IAAN,CAAWM,WAA3C,CApBL,EAsBK,KAAKtB,WAAL,CAAiB,aAAjB,EAAgCI,KAAK,CAACY,IAAN,CAAWiB,WAA3C,CAtBL,EAuBK,KAAKjC,WAAL,CAAiB,WAAjB,EAA8BI,KAAK,CAACY,IAAN,CAAWkB,SAAzC,CAvBL,EAwBK,KAAKlC,WAAL,CAAiB,qBAAjB,EAAwCI,KAAK,CAACY,IAAN,CAAWmB,mBAAnD,CAxBL,EAyBK,KAAKnC,WAAL,CAAiB,OAAjB,EAA0BI,KAAK,CAACY,IAAN,CAAWoB,KAArC,CAzBL,EA0BK,KAAKpC,WAAL,CAAiB,QAAjB,EAA2BI,KAAK,CAACY,IAAN,CAAWqB,MAAtC,CA1BL,EA2BK,KAAKrC,WAAL,CAAiB,WAAjB,EAA8BI,KAAK,CAACY,IAAN,CAAWsB,SAAzC,CA3BL,EA4BK,KAAKtC,WAAL,CAAiB,cAAjB,EAAiCI,KAAK,CAACY,IAAN,CAAWuB,YAA5C,CA5BL,EA8BKnC,KAAK,CAACY,IAAN,IAAcZ,KAAK,CAACY,IAAN,CAAWwB,aAAzB,IAA0CpC,KAAK,CAACY,IAAN,CAAWwB,aAAX,CAAyB,CAAzB,EAA4BtB,GAAtE,gBACG;AAAM,QAAA,SAAS,EAAC,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAH,eAAyB;AAAG,QAAA,IAAI,EAAEd,KAAK,CAACY,IAAN,CAAWwB,aAAX,CAAyB,CAAzB,EAA4BtB,GAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA2Cd,KAAK,CAACY,IAAN,CAAWwB,aAAX,CAAyB,CAAzB,EAA4BvC,IAAvE,CAAzB,CADJ,CADH,GAIC,IAlCN,EAoCKG,KAAK,CAACY,IAAN,IAAcZ,KAAK,CAACY,IAAN,CAAWyB,GAAzB,GACG,KAAKzC,WAAL,CAAiB,SAAjB,EAA4BI,KAAK,CAACY,IAAN,CAAWyB,GAAX,CAAeC,OAA3C,CADH,GAEC,IAtCN,CA7DJ,eAuGI;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAvGJ,eA2GI;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKtD,KAAL,CAAWuD,QAAX,gBACG,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAG,UAAS,KAAKvD,KAAL,CAAWuD,QAAX,CAAoBvB,GAAI,EAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAM,QAAA,SAAS,EAAC,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADJ,CADJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAO,KAAKhC,KAAL,CAAWuD,QAAX,CAAoBjD,KAA3B,CADJ,CAJJ,CADH,GASC,IAVN,CADJ,eAiBI;AAAK,QAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKN,KAAL,CAAWwD,QAAX,gBACG,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAG,UAAS,KAAKxD,KAAL,CAAWwD,QAAX,CAAoBxB,GAAI,EAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAM,QAAA,SAAS,EAAC,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADJ,CADJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAO,KAAKhC,KAAL,CAAWwD,QAAX,CAAoBlD,KAA3B,CADJ,CAJJ,CADH,GASC,IAVN,CAjBJ,CA3GJ,CAPJ,CAFK,GAsJP,IAtJF;AAuJF,KAjT2B;AAAA;;AAS7B;AACAmD,EAAAA,iBAAiB,GAAG;AAChB,SAAKzD,KAAL,CAAW0D,QAAX,CAAoBjF,UAAU,EAA9B;AACA,SAAKuB,KAAL,CAAW0D,QAAX,CAAoBhF,aAAa,EAAjC;AACA,SAAKsB,KAAL,CAAW0D,QAAX,CAAoBnF,sBAAsB,CAAC,KAAKyB,KAAL,CAAWqC,KAAX,CAAiBC,MAAjB,CAAwBC,EAAzB,CAA1C;AACA,SAAKvC,KAAL,CAAW0D,QAAX,CAAoB/E,WAAW,CAAC,KAAKqB,KAAL,CAAWqC,KAAX,CAAiBC,MAAjB,CAAwBC,EAAzB,CAA/B;AACA,SAAKvC,KAAL,CAAW0D,QAAX,CAAoB9E,WAAW,CAAC,KAAKoB,KAAL,CAAWqC,KAAX,CAAiBC,MAAjB,CAAwBC,EAAzB,CAA/B;AAIH;;AAEDoB,EAAAA,yBAAyB,GAAG,CAE3B;;AAGDC,EAAAA,oBAAoB,GAAG;AACnB,SAAK5D,KAAL,CAAW0D,QAAX,CAAoBlF,wBAAwB,EAA5C;AACH;;AAwRDqF,EAAAA,MAAM,GAAG;AAEL;AAGA,QAAI7C,KAAK,GAAG,KAAKhB,KAAL,CAAWgB,KAAvB,CALK,CAML;;AAEA,QAAIA,KAAK,CAACY,IAAN,IAAcZ,KAAK,CAACY,IAAN,CAAWkC,YAA7B,EAA4C;AACxC;AAAC,aAAK/D,UAAL,CAAgBiB,KAAK,CAACY,IAAN,CAAWkC,YAA3B;AAAyC;AAC7C;;AAED,QAAI9C,KAAK,CAACY,IAAN,IAAcZ,KAAK,CAACY,IAAN,CAAWmC,eAA7B,EAA+C;AAC3C;AACA;AAAC,aAAKxD,aAAL,CAAmBS,KAAK,CAACY,IAAN,CAAWmC,eAA9B;AAA+C;AACnD;;AAED,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKtC,UAAL,CAAgBT,KAAhB,CADL,CADJ;AAKH;;AA1U4B;;AA6UjC,SAASgD,eAAT,CAAyBhF,KAAzB,EAAgC;AAC5B,SAAO;AACHgC,IAAAA,KAAK,EAAEhC,KAAK,CAACgC,KADV;AAEHf,IAAAA,IAAI,EAAEjB,KAAK,CAACiB,IAAN,CAAWA,IAFd;AAGHO,IAAAA,OAAO,EAAExB,KAAK,CAACiB,IAAN,CAAWO,OAHjB;AAIHgD,IAAAA,QAAQ,EAAExE,KAAK,CAACgC,KAAN,CAAYwC,QAJnB;AAKHD,IAAAA,QAAQ,EAAEvE,KAAK,CAACgC,KAAN,CAAYuC;AALnB,GAAP;AAQH;;AAGD,eAAepF,OAAO,CAAC6F,eAAD,CAAP,CAAyBjF,QAAzB,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport Slick from 'react-slick';   // uses cdn css\n\n\n// import style from './slider.module.css';\n\n// import { Document, Page, pdfjs } from 'react-pdf';\nimport PDFViewer from 'pdf-viewer-reactjs'\n\n\n\n\n// import { getBookWithReviewer, clearBookWithReviewer } from '../../actions'; // OLD !\nimport { getItemWithContributor, clearItemWithContributor, getAllCats, getAllSubCats, getNextItem, getPrevItem } from '../../actions';\nimport NavigationBar from '../../widgetsUI/navigation';\n// import Image from '../../widgetsUI/Slider/slider';\nimport ItemImageSlider from '../../widgetsUI/Slider/item_img_slider';\n\n\n// pdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\n\n\n\n\nclass ItemView extends Component {\n\n    state = {\n        pdfError: false,\n        numPages: null,\n        pageNumber: 1\n    }\n\n    \n    // componentWillMount() {\n    componentDidMount() {\n        this.props.dispatch(getAllCats());\n        this.props.dispatch(getAllSubCats());\n        this.props.dispatch(getItemWithContributor(this.props.match.params.id));\n        this.props.dispatch(getNextItem(this.props.match.params.id));\n        this.props.dispatch(getPrevItem(this.props.match.params.id));\n        \n\n\n    }\n\n    componentWillReceiveProps() {\n\n    }\n    \n\n    componentWillUnmount() {\n        this.props.dispatch(clearItemWithContributor());\n    }\n\n\n    navInfo = {\n        catTitle: null,\n        catId: null,\n        subCatTitle: null,\n        subCatId: null,\n        type: 'Categories'\n    }\n\n    addDefaultImg = (ev) => {\n        const newImg = '/images/default/default.jpg';\n        if (ev.target.src !== newImg) {\n            ev.target.src = newImg\n        }  \n    } \n\n    getCatName = (catId) => {\n        if (this.props.cats && this.props.cats.length) {\n            this.props.cats.map( cat => {\n                \n                if (cat.cat_id === catId[0]) {\n                    // console.log(cat.title);\n                    this.navInfo.catTitle = cat.title;\n                    this.navInfo.catId = cat.cat_id;\n                }\n                return null;\n            })\n        }\n    }\n\n    getSubCatName = (subCatId) => {\n        // console.log(subCatId);\n        if (this.props.subcats && this.props.subcats.length) {\n            this.props.subcats.map( subcat => {\n                \n                if (subcat.subcat_id == subCatId[0]) {\n                    // console.log(cat.title);\n                    this.navInfo.subCatTitle = subcat.title;\n                    this.navInfo.subCatId = subcat.subcat_id;\n\n                }\n            })\n        }\n    }\n\n\n    nextItem = () => {\n\n    }\n\n    renderField = (text, ref) => {\n        if (ref) {\n            return (\n                <p className=\"item_field\"><b>{text}: </b>{ref}</p>\n            )\n        } \n    }\n\n\n    renderSlider = (items) => {\n\n\n        const settings = {\n            dots: true,\n            infinite: false,\n            arrows: true,\n            speed: 500,\n            slidesToShow: 1,\n            slidesToScroll: 1\n            // ...props.settings\n        }\n\n        // console.log(items.item.number_files);\n\n        // let template = () => { \n        //     for (let i = 0; i < items.item.number_files; i++) {\n        //         return(\n        //             <div key={i}>\n        //                 <div className={style.featured_item}>\n        //                     <div className={style.featured_image}\n                                \n        //                         style={{\n        //                             background: `url(/images/items/${items.item._id}/original/0.jpg)`\n        //                             // <img src={`/images/items/${items.item._id}/original/0.jpg`} alt=\"Item\" onError={this.addDefaultImg}/>\n\n        //                         }}\n        //                     >\n        //                     </div>\n\n        //                 </div>\n        //             </div>\n        //         )\n        //     }\n        // }\n\n     \n\n        var divs = [];\n        \n        // for (var i = 0; i < items.item.number_files; i++) {\n        //     divs.push( \n        //         <div key={i} className={style.featured_item}> \n        //             <div className={style.featured_image} \n        //                  style={{\n        //                     background: `url(/images/items/${items.item._id}/original/${i}.jpg)`\n        //                     // <img src={`/images/items/${items.item._id}/original/0.jpg`} alt=\"Item\" onError={this.addDefaultImg}/>\n        //                  }}\n        //             >\n        //                 {i}\n        //             </div>\n        //         </div>\n        //     )\n        // }\n        \n        return <Slick {...settings}>{divs}</Slick>;\n\n\n    }\n\n\n    renderItem = (items) => {\n        const { pageNumber, numPages } = this.state;\n\n        console.log(items);\n        return ( items.item ?\n\n            <div>\n                <ItemImageSlider />\n\n                { this.navInfo.catTitle  ?\n                    <NavigationBar navinfo={this.navInfo} title={items.item.title}/>    \n                : null }\n\n                <div className=\"item_container\">\n                    \n\n                    <div className=\"item_header\">\n\n                        <h1>{items.item.title}</h1>\n\n\n                        {items.item.file_format === 'pdf' ?\n                            <PDFViewer\n                                document={{\n                                    url: '/images/items/5eb4417bf2ff151113f3e178/original/0.pdf',\n                                }}\n                                scale={0.5}\n                                scaleStep={0.05}\n                            />\n                        : null }\n\n                        {/* <div className=\"pdf\">\n                            <Document\n                                file=\"/images/items/5eb4417bf2ff151113f3e178/original/0.pdf\"\n                                onLoadSuccess={this.onDocumentLoadSuccess}\n                                // onLoadError={this.setState({ pdfError: true })}\n                                \n                                \n                            >\n                            <Page pageNumber={pageNumber} />\n                            </Document>\n                            <p>Page {pageNumber} of {numPages}</p> */}\n                        {/* </div> */}\n\n                        { items.item && items.item.number_files == 1 ?\n                            <div className=\"item_img\">\n                                <img src={`/images/items/${items.item._id}/original/0.jpg`} alt=\"Item\" onError={this.addDefaultImg}/>\n                            </div>\n                        : null}\n\n                        { items.item && items.item.number_files > 1 ?\n                            this.renderSlider(items)\n                        : null}\n\n\n                        <br />\n\n                        \n                        {items.item.creator ?\n                            <h5 className=\"item_field\">Creator: {items.item.creator}</h5>\n                        : null }\n\n                        \n                        <div className=\"item_reviewer\">\n                            <span className=\"item_field\">\n                                { items.contributor && items.contributor.name && items.contributor.lastname ?\n                                    <span>Submitted by: {items.contributor.name} {items.contributor.lastname} - </span>\n                                : null }\n                                <Link to={`/user/edit-item/${this.props.match.params.id}`}>Edit</Link>\n                            </span>\n                        </div>\n                    </div>\n\n\n                    <div className=\"item_review\">\n\n                        { items.item.subject ?\n                            <p className=\"item_field\">\n                                <b>Subject: </b>\n                                <span dangerouslySetInnerHTML={{__html:  items.item.subject}}></span>\n                            </p>\n                        : null }\n\n                      \n                        { items.item.description ?\n                            <p className=\"item_field\">\n                                <b>Description: </b>\n                                <span dangerouslySetInnerHTML={{__html: items.item.description}}></span>\n                            </p>\n                        : null }\n\n\n                        {this.renderField('Source', items.item.source)}\n                        {this.renderField('Date Created', items.item.date_created)}\n                        {this.renderField('Contributor', items.item.contributor)}\n\n                        {this.renderField('Item Format', items.item.item_format)}\n                        {this.renderField('Materials', items.item.materials)}\n                        {this.renderField('Physical Dimensions', items.item.physical_dimensions)}\n                        {this.renderField('Pages', items.item.pages)}\n                        {this.renderField('Editor', items.item.editor)}\n                        {this.renderField('Publisher', items.item.publisher)}\n                        {this.renderField('Further Info', items.item.further_info)}\n                        \n                        {items.item && items.item.external_link && items.item.external_link[0].url ?\n                            <span className=\"item_field\">\n                                <p><b>External Link: </b><a href={items.item.external_link[0].url}>{items.item.external_link[0].text}</a></p>\n                            </span>\n                        : null }\n\n                        {items.item && items.item.geo ?\n                            this.renderField('Address', items.item.geo.address)\n                        : null }\n  \n                    </div>\n\n                    <div className=\"item_review\">\n                    </div>\n\n\n                    <div className=\"item_box\">\n                        <div className=\"left\">\n                            {this.props.previtem ?\n                                <Link to={`/items/${this.props.previtem._id}`}>\n                                    <div>\n                                        <span className=\"white_txt\">Previous Item</span>\n                                    </div>\n                                    <div>\n                                        <span>{this.props.previtem.title}</span>\n                                    </div>\n                                </Link>\n                            : null }\n                        </div>\n\n\n\n                        \n                        <div className=\"right\">\n                            {this.props.nextitem ?\n                                <Link to={`/items/${this.props.nextitem._id}`}>\n                                    <div>\n                                        <span className=\"white_txt\">Next Item</span>\n                                    </div>\n                                    <div>\n                                        <span>{this.props.nextitem.title}</span>\n                                    </div>\n                                </Link>\n                            : null }\n                        </div>\n                    </div>\n\n\n                </div>\n            </div>\n        : null\n    )}\n\n\n    render() {\n\n        // console.log(this.props);\n\n\n        let items = this.props.items;\n        // console.log(items.item);\n\n        if (items.item && items.item.category_ref ) {\n            {this.getCatName(items.item.category_ref)}\n        }\n\n        if (items.item && items.item.subcategory_ref ) {\n            // console.log(items.item);\n            {this.getSubCatName(items.item.subcategory_ref)}\n        }\n\n        return (\n            <div>\n                {this.renderItem(items)}\n            </div>\n        );\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        items: state.items,\n        cats: state.cats.cats,\n        subcats: state.cats.subcats,\n        nextitem: state.items.nextitem,\n        previtem: state.items.previtem\n\n    }\n}\n\n\nexport default connect(mapStateToProps)(ItemView)"]},"metadata":{},"sourceType":"module"}