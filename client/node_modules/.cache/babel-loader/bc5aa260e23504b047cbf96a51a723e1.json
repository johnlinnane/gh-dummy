{"ast":null,"code":"import _classCallCheck from\"/Users/johnlinnane/DEV/react-bootcamp/13_book_shelf/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/johnlinnane/DEV/react-bootcamp/13_book_shelf/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/johnlinnane/DEV/react-bootcamp/13_book_shelf/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/johnlinnane/DEV/react-bootcamp/13_book_shelf/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{loginUser}from'../../actions';var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={email:'',password:'',error:'',success:false};_this.handleInputEmail=function(event){_this.setState({email:event.target.value});};_this.handleInputPassword=function(event){_this.setState({password:event.target.value});};_this.submitForm=function(e){e.preventDefault();// console.log(this.state)\n// login and set cookie\n_this.props.dispatch(loginUser(_this.state));};return _this;}_createClass(Login,[{key:\"componentWillReceiveProps\",// redirect to user screen when login\nvalue:function componentWillReceiveProps(nextProps){if(nextProps.user.login.isAuth){this.props.history.push('/user');}}},{key:\"render\",value:function render(){var user=this.props.user;return/*#__PURE__*/React.createElement(\"div\",{className:\"rl_container\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.submitForm},/*#__PURE__*/React.createElement(\"h2\",null,\"Log in here\"),/*#__PURE__*/React.createElement(\"div\",{className:\"form_element\"},/*#__PURE__*/React.createElement(\"input\",{type:\"email\",placeholder:\"Enter your email\",value:this.state.email,onChange:this.handleInputEmail})),/*#__PURE__*/React.createElement(\"div\",{className:\"form_element\"},/*#__PURE__*/React.createElement(\"input\",{type:\"password\",placeholder:\"Enter your password\",value:this.state.password,onChange:this.handleInputPassword})),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\"},\"Log in\"),/*#__PURE__*/React.createElement(\"div\",{className:\"error\"},user.login?/*#__PURE__*/React.createElement(\"div\",null,user.login.message):null)));}}]);return Login;}(Component);function mapStateToProps(state){// console.log(state);\nreturn{user:state.user};}export default connect(mapStateToProps)(Login);","map":{"version":3,"sources":["/Users/johnlinnane/DEV/react-bootcamp/13_book_shelf/client/src/containers/Admin/login.js"],"names":["React","Component","connect","loginUser","Login","state","email","password","error","success","handleInputEmail","event","setState","target","value","handleInputPassword","submitForm","e","preventDefault","props","dispatch","nextProps","user","login","isAuth","history","push","message","mapStateToProps"],"mappings":"orBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,OAAT,KAAwB,aAAxB,CAEA,OAASC,SAAT,KAA0B,eAA1B,C,GAGMC,CAAAA,K,uTAEFC,K,CAAQ,CACJC,KAAK,CAAC,EADF,CAEJC,QAAQ,CAAC,EAFL,CAGJC,KAAK,CAAC,EAHF,CAIJC,OAAO,CAAC,KAJJ,C,OAQRC,gB,CAAmB,SAACC,KAAD,CAAW,CAC1B,MAAKC,QAAL,CAAc,CAACN,KAAK,CAACK,KAAK,CAACE,MAAN,CAAaC,KAApB,CAAd,EACH,C,OAEDC,mB,CAAsB,SAACJ,KAAD,CAAW,CAC7B,MAAKC,QAAL,CAAc,CAACL,QAAQ,CAACI,KAAK,CAACE,MAAN,CAAaC,KAAvB,CAAd,EACH,C,OAUDE,U,CAAa,SAACC,CAAD,CAAO,CAChBA,CAAC,CAACC,cAAF,GACA;AAEA;AACA,MAAKC,KAAL,CAAWC,QAAX,CAAoBjB,SAAS,CAAC,MAAKE,KAAN,CAA7B,EACH,C,oEAdD;yCAC0BgB,S,CAAW,CACjC,GAAGA,SAAS,CAACC,IAAV,CAAeC,KAAf,CAAqBC,MAAxB,CAAgC,CAC5B,KAAKL,KAAL,CAAWM,OAAX,CAAmBC,IAAnB,CAAwB,OAAxB,EACH,CACJ,C,uCAYQ,CACL,GAAIJ,CAAAA,IAAI,CAAG,KAAKH,KAAL,CAAWG,IAAtB,CAEA,mBACI,2BAAK,SAAS,CAAC,cAAf,eACI,4BAAM,QAAQ,CAAE,KAAKN,UAArB,eACI,4CADJ,cAGI,2BAAK,SAAS,CAAC,cAAf,eACI,6BACI,IAAI,CAAC,OADT,CAEI,WAAW,CAAC,kBAFhB,CAGI,KAAK,CAAE,KAAKX,KAAL,CAAWC,KAHtB,CAII,QAAQ,CAAE,KAAKI,gBAJnB,EADJ,CAHJ,cAaI,2BAAK,SAAS,CAAC,cAAf,eACI,6BACI,IAAI,CAAC,UADT,CAEI,WAAW,CAAC,qBAFhB,CAGI,KAAK,CAAE,KAAKL,KAAL,CAAWE,QAHtB,CAII,QAAQ,CAAE,KAAKQ,mBAJnB,EADJ,CAbJ,cAsBI,8BAAQ,IAAI,CAAC,QAAb,WAtBJ,cAwBI,2BAAK,SAAS,CAAC,OAAf,EAEQO,IAAI,CAACC,KAAL,cACI,+BAAMD,IAAI,CAACC,KAAL,CAAWI,OAAjB,CADJ,CAEE,IAJV,CAxBJ,CADJ,CADJ,CAyCH,C,mBA/Ee1B,S,EAkFpB,QAAS2B,CAAAA,eAAT,CAAyBvB,KAAzB,CAAgC,CAC5B;AACA,MAAO,CACHiB,IAAI,CAACjB,KAAK,CAACiB,IADR,CAAP,CAGH,CAED,cAAepB,CAAAA,OAAO,CAAC0B,eAAD,CAAP,CAAyBxB,KAAzB,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport { loginUser } from '../../actions';\n\n\nclass Login extends Component {\n    \n    state = {\n        email:'',\n        password:'',\n        error:'',\n        success:false\n    }\n\n\n    handleInputEmail = (event) => {\n        this.setState({email:event.target.value})\n    }\n\n    handleInputPassword = (event) => {\n        this.setState({password:event.target.value})\n    }\n\n    // redirect to user screen when login\n    componentWillReceiveProps(nextProps) {\n        if(nextProps.user.login.isAuth) {\n            this.props.history.push('/user')\n        }\n    }\n\n\n    submitForm = (e) => {\n        e.preventDefault();\n        // console.log(this.state)\n\n        // login and set cookie\n        this.props.dispatch(loginUser(this.state))\n    }\n    \n    \n    render() {\n        let user = this.props.user;\n\n        return (\n            <div className=\"rl_container\">\n                <form onSubmit={this.submitForm}>\n                    <h2>Log in here</h2>\n\n                    <div className=\"form_element\">\n                        <input \n                            type=\"email\"\n                            placeholder=\"Enter your email\"\n                            value={this.state.email}\n                            onChange={this.handleInputEmail}\n                        />\n                    </div>\n\n\n                    <div className=\"form_element\">\n                        <input \n                            type=\"password\"\n                            placeholder=\"Enter your password\"\n                            value={this.state.password}\n                            onChange={this.handleInputPassword}\n                        />\n                    </div>\n\n                    <button type=\"submit\">Log in</button>\n\n                    <div className=\"error\">\n                        {\n                            user.login ?\n                                <div>{user.login.message}</div>\n                            : null\n                        }\n                    </div>    \n                    \n\n                </form>\n\n\n\n            </div>\n        );\n    }\n}\n\nfunction mapStateToProps(state) {\n    // console.log(state);\n    return {\n        user:state.user\n    }\n}\n\nexport default connect(mapStateToProps)(Login)"]},"metadata":{},"sourceType":"module"}