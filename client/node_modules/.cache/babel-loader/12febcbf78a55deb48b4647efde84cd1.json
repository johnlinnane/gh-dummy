{"ast":null,"code":"var _jsxFileName = \"/Users/johnlinnane/DEV/traveller-collection/client/src/components/AdminSection/admin_add_cat.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from \"react-router-dom\";\nimport axios from 'axios';\nimport { ToastContainer, toast } from 'react-toastify';\nimport { addCat } from '../../actions';\n\nclass AdminAddCat extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      catdata: {\n        title: '',\n        description: ''\n      }\n    };\n\n    this.addDefaultImg = ev => {\n      const newImg = '/images/default/default.jpg';\n\n      if (ev.target.src !== newImg) {\n        ev.target.src = newImg;\n      }\n    };\n\n    this.cancel = () => {\n      this.props.history.push(`/admin`);\n    };\n\n    this.handleInput = (event, field, i) => {\n      // make a copy of formdata\n      const newCatdata = { ...this.state.catdata\n      };\n      const newSubcatdata = { ...this.state.subcatdata\n      };\n\n      if (field === 'title') {\n        newCatdata.title = event.target.value;\n      }\n\n      if (field === 'description') {\n        newCatdata.description = event.target.value;\n      }\n\n      if (field === 'sub_title') {\n        newSubcatdata[i].title = event.target.value;\n      }\n\n      if (field === 'sub_desc') {\n        newSubcatdata[i].description = event.target.value;\n      } // copy it back to state\n\n\n      this.setState({\n        catdata: newCatdata,\n        subcatdata: newSubcatdata\n      });\n      console.log(newCatdata);\n    };\n  }\n\n  componentDidMount() {// this.props.dispatch(blahBlah());\n  }\n\n  componentDidUpdate(prevProps, prevState) {}\n\n  render() {\n    console.log(this.state);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"admin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.submitForm,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 41\n      }\n    }, \"Title\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Enter title\",\n      defaultValue: this.state.catdata.title,\n      onChange: event => this.handleInput(event, 'title'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 41\n      }\n    }))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 41\n      }\n    }, \"Description\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      type: \"text\",\n      placeholder: \"Enter category description\",\n      defaultValue: this.state.catdata.description,\n      onChange: event => this.handleInput(event, 'description'),\n      rows: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 41\n      }\n    }))), /*#__PURE__*/React.createElement(\"tr\", {\n      className: \"spacer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"tr\", {\n      className: \"spacer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 41\n      }\n    }, \"Add Category\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.cancel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 41\n      }\n    }, \"Cancel\"))), /*#__PURE__*/React.createElement(\"tr\", {\n      className: \"spacer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 33\n      }\n    }))))));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  // console.log(state);\n  return {// xxx: state.xxx.xxxx\n  };\n}\n\nexport default withRouter(connect(mapStateToProps)(AdminAddCat));","map":{"version":3,"sources":["/Users/johnlinnane/DEV/traveller-collection/client/src/components/AdminSection/admin_add_cat.js"],"names":["React","Component","connect","withRouter","axios","ToastContainer","toast","addCat","AdminAddCat","state","catdata","title","description","addDefaultImg","ev","newImg","target","src","cancel","props","history","push","handleInput","event","field","i","newCatdata","newSubcatdata","subcatdata","value","setState","console","log","componentDidMount","componentDidUpdate","prevProps","prevState","render","submitForm","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from \"react-router-dom\";\nimport axios from 'axios';\nimport { ToastContainer, toast } from 'react-toastify';\n\n\nimport { addCat } from '../../actions';\n\n\n\nclass AdminAddCat extends Component {\n\n    state = {\n        catdata: {\n            title: '',\n            description: ''\n        }\n    }\n\n    componentDidMount() {\n        // this.props.dispatch(blahBlah());\n    }\n\n\n    componentDidUpdate(prevProps, prevState) {\n    }\n\n\n\n    addDefaultImg = (ev) => {\n        const newImg = '/images/default/default.jpg';\n        if (ev.target.src !== newImg) {\n            ev.target.src = newImg\n        }  \n    }\n\n    cancel = () => {\n        this.props.history.push(`/admin`)\n    }\n\n\n    handleInput = (event, field, i) => {\n\n\n        // make a copy of formdata\n        const newCatdata = {\n            ...this.state.catdata\n        }\n\n        const newSubcatdata = {\n            ...this.state.subcatdata\n        }\n\n\n        if (field === 'title') {\n            newCatdata.title = event.target.value;\n\n        } \n        \n        \n        if (field === 'description') {\n            newCatdata.description = event.target.value;\n        } \n\n        \n        if (field === 'sub_title') {\n            newSubcatdata[i].title = event.target.value;\n        } \n        \n        if (field === 'sub_desc') {\n            newSubcatdata[i].description = event.target.value;\n        }\n        \n\n\n        // copy it back to state\n        this.setState({\n            catdata: newCatdata,\n            subcatdata: newSubcatdata\n\n        })\n        console.log(newCatdata);\n    }\n\n    render() {\n\n        console.log(this.state)\n\n\n        return (\n            <div className=\"admin\">\n                    <div>\n                        <form onSubmit={this.submitForm}>\n                            <table>\n                            <tbody>\n                                <tr>\n                                    <td>\n                                        <h3>Title</h3>\n                                    </td>\n                                    <td>\n\n                                        <input\n                                            type=\"text\"\n                                            placeholder={\"Enter title\"}\n                                            defaultValue={this.state.catdata.title} \n                                            onChange={(event) => this.handleInput(event, 'title')}\n                                        />\n\n\n\n\n                                    </td>\n                                </tr>\n\n\n                                <tr>\n                                    <td>\n                                        <h3>Description</h3>\n                                    </td>\n                                    <td>\n                                        <textarea\n                                            type=\"text\"\n                                            placeholder=\"Enter category description\"\n                                            defaultValue={this.state.catdata.description} \n                                            onChange={(event) => this.handleInput(event, 'description')}\n                                            rows={6}\n                                        />\n                                    </td>\n                                </tr>\n\n\n                                {/* <tr>\n                                    <td>\n                                        <img className=\"change_cat_img\" src={`/images/cover_img_cat/XXXX.jpg`} onError={this.addDefaultImg}/>\n                                    </td>\n                                    <td>\n                                        <div className=\"form_element\">\n                                            <input type=\"file\" className=\"form-control\" multiple name=\"file\" onChange={this.onChangeHandler}/>\n                                            <br />\n                                            <button type=\"button\" className=\"btn btn-success btn-block\" onClick={this.onClickHandler}>Upload</button> \n                                        </div>\n                                    </td>\n                                </tr>\n\n                             */}\n\n                                \n                                <tr className=\"spacer\"></tr>\n\n                                \n\n                                <tr className=\"spacer\"></tr>\n\n                                <tr>\n                                    <td>\n                                        <button type=\"submit\">Add Category</button>\n                                    </td>\n\n                                    <td>\n                                        <button type=\"button\" onClick={this.cancel}>Cancel</button>\n                                    </td>\n                                    \n                                </tr>\n\n                                <tr className=\"spacer\"></tr>\n\n\n                            </tbody>\n                            </table>\n                            \n                        </form>\n                        \n                    </div>\n            </div>\n        );\n    }\n}\n\n\nfunction mapStateToProps(state) {\n    // console.log(state);\n\n    return {\n        // xxx: state.xxx.xxxx\n        \n    }\n}\n\n\nexport default withRouter(connect(mapStateToProps)(AdminAddCat));"]},"metadata":{},"sourceType":"module"}