{"ast":null,"code":"import axios from 'axios'; // get every post of particular user\n\nexport function getUserPosts(userId) {\n  const request = axios.get(`/api/user_posts?user=${userId}`).then(response => response.data);\n  return {\n    type: 'GET_USER_POSTS',\n    payload: request\n  };\n} // * * * * * * * * * *  GET ITEMS  BY USER* * * * * * * * * *  \n\nexport function getUserItems(userId) {\n  const request = axios.get(`/api/user_items?user=${userId}`).then(response => response.data);\n  return {\n    type: 'GET_USER_ITEMS',\n    payload: request\n  };\n} // * * * * * * * * * CLEAR ITEM * * * * * * \n\nexport function clearItem() {\n  return {\n    type: 'CLEAR_ITEM',\n    payload: {\n      item: null,\n      updateItem: false,\n      itemDeleted: false\n    }\n  };\n} // ******************** USER ACTIONS ********************\n\nexport function loginUser({\n  email,\n  password\n}) {\n  const request = axios.post('/api/login', {\n    email,\n    password\n  }).then(response => response.data);\n  return {\n    type: 'USER_LOGIN',\n    payload: request\n  };\n}\nexport function auth() {\n  const request = axios.get('/api/auth').then(response => response.data);\n  return {\n    type: 'USER_AUTH',\n    payload: request\n  };\n}\nexport function getUsers() {\n  const request = axios.get(`/api/users`).then(response => response.data);\n  return {\n    type: 'GET_USER',\n    payload: request\n  };\n} // uses thunk\n\nexport function userRegister(user, userList) {\n  const request = axios.post(`/api/register`, user);\n  return dispatch => {\n    request.then(({\n      data\n    }) => {\n      // if register is wrong, don't send new user\n      let users = data.success ? [...userList, data.user] : userList;\n      let response = {\n        success: data.success,\n        users // result of conditional\n\n      };\n      dispatch({\n        type: 'USER_REGISTER',\n        payload: response\n      });\n    });\n  };\n} // ******************** ITEM ACTIONS ********************\n\nexport function getAllItems() {\n  const request = axios.get(`/api/allItems`).then(response => {\n    return response.data;\n  }); // console.log(request);\n\n  return {\n    type: 'GET_ALL_ITEMS',\n    payload: request\n  };\n}\nexport function getItems(limit = 10, start = 0, order = 'asc', list = '') {\n  const request = axios.get(`/api/items?limit=${limit}&skip=${start}&order=${order}`).then(response => {\n    if (list) {\n      return [...list, ...response.data];\n    } else {\n      return response.data;\n    }\n  }); // console.log(request);\n\n  return {\n    type: 'GET_ITEMS',\n    payload: request\n  };\n} // two requests inside one action, book and user. user reduxthunk\n\nexport function getItemWithContributor(id) {\n  // reduxthunk's dispatched function sends payload to reducers whenever we are ready\n  // as an alternative to getItems\n  const request = axios.get(`/api/getItemById?id=${id}`); // return a dispatch function\n\n  return dispatch => {\n    // get the promise, using {{{destructuring}}}\n    request.then(({\n      data\n    }) => {\n      let item = data; // console.log(item);\n      // axios.get(`/api/getContributor?id=${item.ownerId}`)\n      // console.log(data);\n      // axios.get(`/api/getContributor?id=${item._id}`)\n\n      axios.get(`/api/getContributor?id=5e99a141fb671004505351b4`).then(({\n        data\n      }) => {\n        let response = {\n          item,\n          // reviewer:data\n          contributor: data\n        }; // console.log(response);\n        // only gets executed when ready\n\n        dispatch({\n          type: 'GET_ITEM_W_CONTRIBUTOR',\n          payload: response\n        });\n      });\n    });\n  };\n}\nexport function clearItemWithContributor() {\n  return {\n    type: 'CLEAR_ITEM_W_REVIEWER',\n    payload: {\n      item: {},\n      reviewer: {}\n    }\n  };\n} // item arg is json data\n\nexport function addItem(item) {\n  const request = axios.post('/api/item', item).then(response => response.data);\n  return {\n    type: 'ADD_ITEM',\n    payload: request\n  };\n}\nexport function clearNewItem() {\n  return {\n    type: 'CLEAR_NEWITEM',\n    payload: null\n  };\n} // // ended up not needing....\n// export function getItemWithInfo(id) {\n//     // reduxthunk's dispatched function sends payload to reducers whenever we are ready\n//     // as an alternative to getItems\n//     const request = axios.get(`/api/getItemById?id=${id}`)\n//     // return a dispatch function\n//     return (dispatch) => {\n//         // get the promise, using {{{destructuring}}}\n//         request.then(({data}) => {\n//             let item = data;\n//             // console.log(item);\n//             // axios.get(`/api/getContributor?id=${item.ownerId}`)\n//             // console.log(data);\n//             // axios.get(`/api/getContributor?id=${item._id}`)\n//             axios.get(`/api/getCatById?id=${item.something}`)\n//                 .then(({data}) => {\n//                     let response = {\n//                         item, \n//                         // reviewer:data\n//                         catinfo:data\n//                     }\n//                     // console.log(response);\n//                     // only gets executed when ready\n//                     dispatch({\n//                         type:'GET_ITEM_W_INFO',\n//                         payload:response\n//                     })\n//                 })\n//         })\n//     }\n// }\n\nexport function getNextItem(oldId) {\n  const request = axios.get(`/api/getNextItem?oldId=${oldId}`).then(response => {\n    return response.data;\n  }); // console.log(request);\n\n  return {\n    type: 'GET_NEXT_ITEM',\n    payload: request\n  };\n}\nexport function getPrevItem(oldId) {\n  const request = axios.get(`/api/getPrevItem?oldId=${oldId}`).then(response => {\n    return response.data;\n  }); // console.log(request);\n\n  return {\n    type: 'GET_PREV_ITEM',\n    payload: request\n  };\n}\nexport function getLatestItem() {\n  const request = axios.get(`/api/getLatestItem`).then(response => {\n    return response.data;\n  });\n  console.log(request);\n  return {\n    type: 'GET_LATEST_ITEM',\n    payload: request\n  };\n}\nexport function getSubcat(subcatId) {\n  const request = axios.get(`/api/getSubcat?subcatid=${subcatId}`).then(response => {\n    return response.data;\n  });\n  console.log(request);\n  return {\n    type: 'GET_SUBCAT',\n    payload: request\n  };\n}\nexport function getItemsBySubcat(subcatId) {\n  const request = axios.get(`/api/getItemsBySubcat?subcatid=${subcatId}`).then(response => {\n    return response.data;\n  }); // console.log(request);\n\n  return {\n    type: 'GET_ITEMS_BY_SUBCAT',\n    payload: request\n  };\n} // not used\n\nexport function getFirstItemBySubcat(catId, subcatId) {\n  const request = axios.get(`/api/getFirstItemBySubcat?catid=${catId}&subcatid=${subcatId}`).then(response => {\n    return response.data;\n  });\n  console.log(request);\n  return {\n    type: 'GET_FIRST_ITEM_SUBCAT',\n    payload: request\n  };\n} // * * * * * * * * * *  EDIT ITEMS * * * * * * * * * *  \n\nexport function getItemById(id) {\n  const request = axios.get(`/api/getItemById?id=${id}`).then(response => response.data);\n  return {\n    type: 'GET_ITEM',\n    payload: request\n  };\n}\nexport function updateItem(data) {\n  console.log('updateItem called');\n  const request = axios.post(`/api/item_update`, data).then(response => response.data);\n  console.log(data);\n  return {\n    type: 'UPDATE_ITEM',\n    payload: request\n  };\n}\nexport function deleteItem(id) {\n  const request = axios.delete(`/api/delete_item?id=${id}`).then(response => response.data);\n  return {\n    type: 'DELETE_ITEM',\n    payload: request\n  };\n} // ******************** COLLECTIONS ACTIONS ********************\n\nexport function getAllColls() {\n  const request = axios.get(`/api/collections`).then(response => {\n    return response.data;\n  });\n  return {\n    type: 'GET_ALL_COLLS',\n    payload: request\n  };\n}\nexport function getCollById(id) {\n  // console.log('getColl action called');\n  const request = axios.get(`/api/getCollById?id=${id}`).then(response => response.data); // console.log(request);\n\n  return {\n    type: 'GET_COLL',\n    payload: request\n  };\n}\nexport function searchItem(key, value) {\n  // console.log('searchItem action called');\n  const request = axios.get(`/api/searchItem?key=${key}&value=${value}`).then(response => response.data); // console.log(request);\n\n  return {\n    type: 'SEARCH_ITEM',\n    payload: request\n  };\n} // decided not to use\n\nexport function getCollWithItems(collId) {\n  const request = axios.get(`/api/getCollById?id=${collId}`).then(response => response.data);\n  return dispatch => {\n    request.then(({\n      data\n    }) => {\n      let coll = data;\n      axios.get(`/api/searchItem?id=${collId}`).then(({\n        data\n      }) => {\n        let response = {\n          coll,\n          items: data\n        };\n        dispatch({\n          type: 'GET_COLL_W_ITEMS',\n          payload: response\n        });\n      });\n    });\n  };\n} // ******************** CATEGORIES ACTIONS ********************\n\nexport function getAllCats() {\n  const request = axios.get(`/api/categories`).then(response => {\n    return response.data;\n  });\n  return {\n    type: 'GET_ALL_CATS',\n    payload: request\n  };\n}\nexport function getCatById(catId) {\n  const request = axios.get(`/api/getCatById?id=${catId}`).then(response => {\n    return response.data;\n  });\n  return {\n    type: 'GET_CAT_BY_ID',\n    payload: request\n  };\n}\nexport function getItemsByCat(catId) {\n  const request = axios.get(`/api/getItemsByCat?value=${catId}`).then(response => {\n    return response.data;\n  });\n  return {\n    type: 'GET_ITEMS_BY_CAT',\n    payload: request\n  };\n}\nexport function getItemsWithCat(catId) {\n  const request = axios.get(`/api/getCatById?id=${catId}`);\n  return dispatch => {\n    request.then(({\n      data\n    }) => {\n      let catInfo = data; // console.log(item);\n\n      console.log(data);\n      axios.get(`/api/getItemsByCat?value=${catInfo._id}`).then(({\n        data\n      }) => {\n        let response = {\n          catInfo,\n          // reviewer:data\n          catItems: data\n        }; // console.log(response);\n\n        dispatch({\n          type: 'GET_ITEMS_W_CAT',\n          payload: response\n        });\n      });\n    });\n  };\n}\nexport function addCat(cat) {\n  const request = axios.post('/api/add-cat', cat).then(response => response.data);\n  return {\n    type: 'ADD_CAT',\n    payload: request\n  };\n}\nexport function deleteCat(id) {\n  const request = axios.delete(`/api/delete-cat?id=${id}`).then(response => response.data);\n  return {\n    type: 'DELETE_CAT',\n    payload: request\n  };\n}\nexport function updateCat(data) {\n  console.log('updateCat called');\n  const request = axios.post(`/api/cat-update`, data).then(response => response.data); // console.log(data);\n\n  return {\n    type: 'UPDATE_CAT',\n    payload: request\n  };\n} // ******************** SUB-CATEGORIES ACTIONS ********************\n\nexport function getAllSubCats() {\n  const request = axios.get(`/api/subcategories`).then(response => {\n    return response.data;\n  });\n  return {\n    type: 'GET_ALL_SUBCATS',\n    payload: request\n  };\n}\nexport function getSubcatById(SubcatId) {\n  const request = axios.get(`/api/getSubcatById?id=${SubcatId}`).then(response => {\n    return response.data;\n  });\n  return {\n    type: 'GET_SUBCAT_BY_ID',\n    payload: request\n  };\n}\nexport function getSubcatByCat(catId) {\n  const request = axios.get(`/api/getSubcatByCat?catid=${catId}`).then(response => {\n    return response.data;\n  });\n  return {\n    type: 'GET_SUBCAT_BY_CAT',\n    payload: request\n  };\n}\nexport function addSubcat(subCat) {\n  const request = axios.post('/api/add-subcat', item).then(response => response.data);\n  return {\n    type: 'ADD_SUBCAT',\n    payload: request\n  };\n}\nexport function deleteSubcat(id) {\n  const request = axios.delete(`/api/delete-subcat?id=${id}`).then(response => response.data);\n  return {\n    type: 'DELETE_SUBCAT',\n    payload: request\n  };\n}\nexport function updateSubcat(data) {\n  console.log('updateSubcat called');\n  const request = axios.post(`/api/subcat-update`, data).then(response => response.data); // console.log(data);\n\n  return {\n    type: 'UPDATE_SUBCAT',\n    payload: request\n  };\n}","map":{"version":3,"sources":["/Users/johnlinnane/DEV/traveller-collection/client/src/actions/index.js"],"names":["axios","getUserPosts","userId","request","get","then","response","data","type","payload","getUserItems","clearItem","item","updateItem","itemDeleted","loginUser","email","password","post","auth","getUsers","userRegister","user","userList","dispatch","users","success","getAllItems","getItems","limit","start","order","list","getItemWithContributor","id","contributor","clearItemWithContributor","reviewer","addItem","clearNewItem","getNextItem","oldId","getPrevItem","getLatestItem","console","log","getSubcat","subcatId","getItemsBySubcat","getFirstItemBySubcat","catId","getItemById","deleteItem","delete","getAllColls","getCollById","searchItem","key","value","getCollWithItems","collId","coll","items","getAllCats","getCatById","getItemsByCat","getItemsWithCat","catInfo","_id","catItems","addCat","cat","deleteCat","updateCat","getAllSubCats","getSubcatById","SubcatId","getSubcatByCat","addSubcat","subCat","deleteSubcat","updateSubcat"],"mappings":"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","sourcesContent":["import axios from 'axios';\n\n\n\n// get every post of particular user\nexport function getUserPosts(userId) {\n    const request = axios.get(`/api/user_posts?user=${userId}`)\n                        .then(response => response.data);\n    return {\n        type:'GET_USER_POSTS',\n        payload:request\n    }\n}\n\n\n\n// * * * * * * * * * *  GET ITEMS  BY USER* * * * * * * * * *  \n\nexport function getUserItems(userId) {\n    const request = axios.get(`/api/user_items?user=${userId}`)\n                        .then(response => response.data);\n    \n    return {\n        type:'GET_USER_ITEMS',\n        payload:request\n    }\n}\n\n\n\n\n// * * * * * * * * * CLEAR ITEM * * * * * * \n\nexport function clearItem() {\n    return {\n        type:'CLEAR_ITEM',\n        payload: {\n            item: null,\n            updateItem:false,\n            itemDeleted:false\n        }\n    }\n}\n\n\n\n// ******************** USER ACTIONS ********************\n\nexport function loginUser({email, password}) {\n\n    const request = axios.post('/api/login', {email, password})\n                        .then(response => response.data);\n\n    return {\n        type:'USER_LOGIN',\n        payload:request\n    }\n}\n\n\nexport function auth() {\n    const request = axios.get('/api/auth') \n                        .then(response => response.data);\n\n    return {\n        type:'USER_AUTH',\n        payload:request\n    }\n\n}\n\n\n\nexport function getUsers() {\n    const request = axios.get(`/api/users`)\n                        .then(response => response.data);\n\n    return {\n        type:'GET_USER',\n        payload:request\n    }\n\n}\n\n// uses thunk\nexport function userRegister(user, userList) {\n    const request = axios.post(`/api/register`, user);\n\n    return (dispatch) => {\n        request.then(({data}) => {\n\n            // if register is wrong, don't send new user\n            let users = data.success ? [...userList, data.user] : userList;\n\n            let response = {\n                success:data.success,\n                users    // result of conditional\n            }\n\n            dispatch({\n                type:'USER_REGISTER',\n                payload:response\n            })\n        })\n    }\n}\n\n\n\n\n// ******************** ITEM ACTIONS ********************\n\n\nexport function getAllItems() {\n    const request = axios.get(`/api/allItems`)\n                        .then(response => {\n                                return response.data\n                            }\n                        );\n\n    // console.log(request);\n\n    return {\n        type:'GET_ALL_ITEMS',\n        payload:request\n    }\n}\n\n\n\n\nexport function getItems(\n    limit = 10,\n    start = 0,\n    order = 'asc',\n    list = ''\n) {\n    const request = axios.get(`/api/items?limit=${limit}&skip=${start}&order=${order}`)\n                        .then(response => {\n                            if(list){\n                                return [...list, ...response.data]\n                            } else {\n                                return response.data\n                            }\n                        })\n\n    // console.log(request);\n\n    return{\n        type:'GET_ITEMS',\n        payload:request\n    }\n}\n\n\n\n\n// two requests inside one action, book and user. user reduxthunk\nexport function getItemWithContributor(id) {\n\n    // reduxthunk's dispatched function sends payload to reducers whenever we are ready\n    // as an alternative to getItems\n    const request = axios.get(`/api/getItemById?id=${id}`)\n\n    // return a dispatch function\n    return (dispatch) => {\n\n        // get the promise, using {{{destructuring}}}\n        request.then(({data}) => {\n            let item = data;\n            // console.log(item);\n\n            // axios.get(`/api/getContributor?id=${item.ownerId}`)\n            // console.log(data);\n\n            // axios.get(`/api/getContributor?id=${item._id}`)\n            axios.get(`/api/getContributor?id=5e99a141fb671004505351b4`)\n\n                .then(({data}) => {\n                \n                    let response = {\n                        item, \n                        // reviewer:data\n                        contributor:data\n                    }\n\n                    // console.log(response);\n\n                    // only gets executed when ready\n                    dispatch({\n                        type:'GET_ITEM_W_CONTRIBUTOR',\n                        payload:response\n                    })\n                })\n        })\n    }\n}\n\nexport function clearItemWithContributor() {\n    return {\n        type:'CLEAR_ITEM_W_REVIEWER',\n        payload:{\n            item:{},\n            reviewer:{}\n        }\n    }\n}\n\n// item arg is json data\nexport function addItem(item) {\n    const request = axios.post('/api/item', item)\n                        .then(response => response.data);\n    \n\n    return {\n        type: 'ADD_ITEM',\n        payload:request\n    }\n}\n\n\nexport function clearNewItem() {\n    return {\n        type:'CLEAR_NEWITEM',\n        payload:null\n    }\n}\n\n\n// // ended up not needing....\n\n// export function getItemWithInfo(id) {\n\n//     // reduxthunk's dispatched function sends payload to reducers whenever we are ready\n//     // as an alternative to getItems\n//     const request = axios.get(`/api/getItemById?id=${id}`)\n\n//     // return a dispatch function\n//     return (dispatch) => {\n\n//         // get the promise, using {{{destructuring}}}\n//         request.then(({data}) => {\n//             let item = data;\n//             // console.log(item);\n\n//             // axios.get(`/api/getContributor?id=${item.ownerId}`)\n//             // console.log(data);\n\n//             // axios.get(`/api/getContributor?id=${item._id}`)\n//             axios.get(`/api/getCatById?id=${item.something}`)\n\n//                 .then(({data}) => {\n                \n//                     let response = {\n//                         item, \n//                         // reviewer:data\n//                         catinfo:data\n//                     }\n\n//                     // console.log(response);\n\n//                     // only gets executed when ready\n//                     dispatch({\n//                         type:'GET_ITEM_W_INFO',\n//                         payload:response\n//                     })\n//                 })\n//         })\n//     }\n// }\n\n\nexport function getNextItem(oldId) {\n    const request = axios.get(`/api/getNextItem?oldId=${oldId}`)\n                        .then(response => {\n                                return response.data\n                            }\n                        );\n\n    // console.log(request);\n\n    return {\n        type:'GET_NEXT_ITEM',\n        payload:request\n    }\n}\n\n\nexport function getPrevItem(oldId) {\n    const request = axios.get(`/api/getPrevItem?oldId=${oldId}`)\n                        .then(response => {\n                                return response.data\n                            }\n                        );\n\n    // console.log(request);\n\n    return {\n        type:'GET_PREV_ITEM',\n        payload:request\n    }\n}\n\n\nexport function getLatestItem() {\n    const request = axios.get(`/api/getLatestItem`)\n        .then(response => {\n                return response.data\n            }    \n        );\n    console.log(request);\n    return {\n        type: 'GET_LATEST_ITEM',\n        payload: request\n    }\n}\n\n\nexport function getSubcat(subcatId) {\n    const request = axios.get(`/api/getSubcat?subcatid=${subcatId}`)\n        .then(response => {\n                return response.data\n            }    \n        );\n    console.log(request);\n    return {\n        type: 'GET_SUBCAT',\n        payload: request\n    }\n}\n\n\nexport function getItemsBySubcat(subcatId) {\n    const request = axios.get(`/api/getItemsBySubcat?subcatid=${subcatId}`)\n        .then(response => {\n                return response.data\n            }    \n        );\n    // console.log(request);\n    return {\n        type: 'GET_ITEMS_BY_SUBCAT',\n        payload: request\n    }\n}\n\n\n// not used\nexport function getFirstItemBySubcat(catId, subcatId) {\n    const request = axios.get(`/api/getFirstItemBySubcat?catid=${catId}&subcatid=${subcatId}`)\n        .then(response => {\n                return response.data\n            }    \n        );\n    console.log(request);\n    return {\n        type: 'GET_FIRST_ITEM_SUBCAT',\n        payload: request\n    }\n}\n\n// * * * * * * * * * *  EDIT ITEMS * * * * * * * * * *  \n\nexport function getItemById(id) {\n    const request = axios.get(`/api/getItemById?id=${id}`)\n                        .then(response => response.data);\n\n    return {\n        type:'GET_ITEM',\n        payload:request\n    }\n}\n\n\nexport function updateItem(data) {\n    console.log('updateItem called');\n    const request = axios.post(`/api/item_update`, data)\n                        .then(response => response.data);\n    console.log(data);\n    return {\n        type:'UPDATE_ITEM',\n        payload:request\n    }\n}\n\nexport function deleteItem(id) {\n    const request = axios.delete(`/api/delete_item?id=${id}`)\n                        .then(response => response.data)\n    return {\n        type:'DELETE_ITEM',\n        payload:request\n    }\n}\n\n\n\n\n// ******************** COLLECTIONS ACTIONS ********************\n\n\nexport function getAllColls() {\n    const request = axios.get(`/api/collections`)\n                        .then(response => {\n                                return response.data\n                            }\n                        );\nreturn {\n        type:'GET_ALL_COLLS',\n        payload:request\n    }\n}\n\n\n\n\n\nexport function getCollById(id) {\n    // console.log('getColl action called');\n    const request = axios.get(`/api/getCollById?id=${id}`)\n                        .then(response => response.data);\n\n    // console.log(request);\n\n\n    return {\n        type:'GET_COLL',\n        payload:request\n    }\n}\n\n\nexport function searchItem(key, value) {\n    // console.log('searchItem action called');\n\n    const request = axios.get(`/api/searchItem?key=${key}&value=${value}`)\n    .then(response => response.data);\n\n    // console.log(request);\n\n    return {\n        type:'SEARCH_ITEM',\n        payload:request\n    }\n\n\n}\n\n\n// decided not to use\nexport function getCollWithItems(collId) {\n\n\n    const request = axios.get(`/api/getCollById?id=${collId}`)\n        .then(response => response.data);\n\n\n    return (dispatch) => {\n        request.then( ({data}) => {\n            let coll = data;\n\n            axios.get(`/api/searchItem?id=${collId}`)\n                .then( ({data}) => {\n                    let response = {\n                        coll,\n                        items:data\n                    }\n                    dispatch({\n                        type:'GET_COLL_W_ITEMS',\n                        payload:response\n                    })\n                })\n        })\n    }\n}\n\n\n// ******************** CATEGORIES ACTIONS ********************\n\n\nexport function getAllCats() {\n    const request = axios.get(`/api/categories`)\n                        .then(response => {\n                                return response.data\n                            }\n                        );\nreturn {\n        type:'GET_ALL_CATS',\n        payload:request\n    }\n}\n\nexport function getCatById(catId) {\n    const request = axios.get(`/api/getCatById?id=${catId}`)\n                        .then(response => {\n                                return response.data\n                            }\n                        );\nreturn {\n        type:'GET_CAT_BY_ID',\n        payload:request\n    }\n}\n\n\n\nexport function getItemsByCat(catId) {\n    const request = axios.get(`/api/getItemsByCat?value=${catId}`)\n                        .then(response => {\n                                return response.data\n                            }\n                        );\n    return {\n        type:'GET_ITEMS_BY_CAT',\n        payload:request\n    }\n}\n\n\nexport function getItemsWithCat(catId) {\n    const request = axios.get(`/api/getCatById?id=${catId}`)\n\n    return (dispatch) => {\n        request.then(({data}) => {\n            let catInfo = data;\n            // console.log(item);\n\n            console.log(data);\n\n            axios.get(`/api/getItemsByCat?value=${catInfo._id}`)\n\n                .then(({data}) => {\n                \n                    let response = {\n                        catInfo, \n                        // reviewer:data\n                        catItems:data\n                    }\n\n                    // console.log(response);\n\n\n                    dispatch({\n                        type:'GET_ITEMS_W_CAT',\n                        payload:response\n                    })\n                })\n        })\n    }\n}\n\nexport function addCat(cat) {\n    const request = axios.post('/api/add-cat', cat)\n                        .then(response => response.data);\n    \n\n    return {\n        type: 'ADD_CAT',\n        payload:request\n    }\n}\n\n\n\nexport function deleteCat(id) {\n    const request = axios.delete(`/api/delete-cat?id=${id}`)\n                        .then(response => response.data)\n    return {\n        type:'DELETE_CAT',\n        payload:request\n    }\n}\n\nexport function updateCat(data) {\n    console.log('updateCat called');\n    const request = axios.post(`/api/cat-update`, data)\n                        .then(response => response.data);\n    // console.log(data);\n    return {\n        type:'UPDATE_CAT',\n        payload:request\n    }\n}\n\n\n// ******************** SUB-CATEGORIES ACTIONS ********************\n\n\nexport function getAllSubCats() {\n    const request = axios.get(`/api/subcategories`)\n                        .then(response => {\n                                return response.data\n                            }\n                        );\nreturn {\n        type:'GET_ALL_SUBCATS',\n        payload:request\n    }\n}\n\n\n\nexport function getSubcatById(SubcatId) {\n    const request = axios.get(`/api/getSubcatById?id=${SubcatId}`)\n                        .then(response => {\n                                return response.data\n                            }\n                        );\nreturn {\n        type:'GET_SUBCAT_BY_ID',\n        payload:request\n    }\n}\n\n\nexport function getSubcatByCat(catId) {\n    const request = axios.get(`/api/getSubcatByCat?catid=${catId}`)\n                        .then(response => {\n                                return response.data\n                            }\n                        );\nreturn {\n        type:'GET_SUBCAT_BY_CAT',\n        payload:request\n    }\n}\n\n\nexport function addSubcat(subCat) {\n    const request = axios.post('/api/add-subcat', item)\n                        .then(response => response.data);\n    \n\n    return {\n        type: 'ADD_SUBCAT',\n        payload:request\n    }\n}\n\n\nexport function deleteSubcat(id) {\n    const request = axios.delete(`/api/delete-subcat?id=${id}`)\n                        .then(response => response.data)\n    return {\n        type:'DELETE_SUBCAT',\n        payload:request\n    }\n}\n\nexport function updateSubcat(data) {\n    console.log('updateSubcat called');\n    const request = axios.post(`/api/subcat-update`, data)\n                        .then(response => response.data);\n    // console.log(data);\n    return {\n        type:'UPDATE_SUBCAT',\n        payload:request\n    }\n}"]},"metadata":{},"sourceType":"module"}