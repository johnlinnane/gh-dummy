{"ast":null,"code":"var _jsxFileName = \"/Users/johnlinnane/DEV/traveller-collection/client/src/components/AdminSection/admin_info.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport { ToastContainer, toast } from 'react-toastify';\nimport { withRouter } from \"react-router-dom\";\nimport { getInfoText, updateInfoText } from '../../actions';\n\nclass AdminInfo extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      // formdata: {\n      //     heading_1: '',\n      //     heading_2: '',\n      //     heading_3: '',\n      //     heading_4: '',\n      //     paragraph_1: '',\n      //     paragraph_2: '',\n      //     paragraph_3: '',\n      //     paragraph_4: ''\n      // }\n      formdata: {\n        sections: [{\n          heading: '',\n          paragraph: ''\n        }, {\n          heading: '',\n          paragraph: ''\n        }, {\n          heading: '',\n          paragraph: ''\n        }, {\n          heading: '',\n          paragraph: ''\n        }]\n      }\n    };\n\n    this.onChangeHandler = event => {\n      var files = event.target.files;\n\n      if (this.maxSelectFile(event) && this.checkMimeType(event) && this.checkMimeType(event)) {\n        this.setState({\n          selectedFile: files\n        });\n      }\n    };\n\n    this.onClickHandler = number => {\n      const data = new FormData();\n\n      if (this.state.selectedFile) {\n        for (var x = 0; x < this.state.selectedFile.length; x++) {\n          data.append('file', this.state.selectedFile[x]);\n        } // HOST-SELECT\n\n\n        axios.post(`http://localhost:8000/upload-info/${number}`, data, {\n          // axios.post(`http://64.227.34.134:8000/upload-info/${number}`, data, { \n          // receive two parameter endpoint url ,form data \n          onUploadProgress: ProgressEvent => {\n            this.setState({\n              loaded: ProgressEvent.loaded / ProgressEvent.total * 100\n            });\n          }\n        }).then(res => {\n          // then print response status\n          // console.log(res.config.data.id);\n          // console.log(res.statusText);\n          console.log(res);\n          toast.success('upload success');\n          alert('Files uploaded successfully');\n        }).catch(err => {\n          toast.error('upload fail');\n        });\n      } // this.redirectUser(`/items/${this.props.items.item._id}`)\n\n    };\n\n    this.maxSelectFile = event => {\n      // console.log(event);\n      let files = event.target.files; // create file object\n\n      if (files.length > 1) {\n        const msg = 'Only 1 image can be uploaded at a time';\n        event.target.value = null; // discard selected file\n\n        console.log(msg);\n        return false;\n      }\n\n      return true;\n    };\n\n    this.checkMimeType = event => {\n      //getting file object\n      let files = event.target.files; //define message container\n\n      let err = ''; // list allow mime type\n\n      const types = ['image/png', 'image/jpeg', 'image/gif']; // loop access array\n\n      for (var x = 0; x < files.length; x++) {\n        // compare file type find doesn't matach\n        if (types.every(type => files[x].type !== type)) {\n          // create error message and assign to container   \n          err += files[x].type + ' is not a supported format\\n';\n        }\n      }\n\n      ;\n\n      for (var z = 0; z < err.length; z++) {\n        // loop create toast massage\n        event.target.value = null;\n        toast.error(err[z]);\n      }\n\n      return true;\n    };\n\n    this.checkFileSize = event => {\n      let files = event.target.files;\n      let size = 15000;\n      let err = \"\";\n\n      for (var x = 0; x < files.length; x++) {\n        if (files[x].size > size) {\n          err += files[x].type + 'is too large, please pick a smaller file\\n';\n        }\n      }\n\n      ;\n\n      for (var z = 0; z < err.length; z++) {\n        toast.error(err[z]);\n        event.target.value = null;\n      }\n\n      return true;\n    };\n\n    this.addDefaultImg = ev => {\n      const newImg = '/images/default/default.jpg';\n\n      if (ev.target.src !== newImg) {\n        ev.target.src = newImg;\n      }\n    };\n\n    this.cancel = () => {\n      this.props.history.push(`/admin`);\n    };\n\n    this.handleInput = (event, field) => {\n      const newIntroData = { ...this.state.introData\n      };\n\n      if (field === 'title') {\n        newIntroData.title = event.target.value;\n      }\n\n      if (field === 'body') {\n        newIntroData.body = event.target.value;\n      }\n\n      this.setState({\n        introData: newIntroData\n      }); // console.log(newFormdata);\n    };\n  }\n\n  componentDidMount() {\n    this.props.dispatch(getInfoText());\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props != prevProps) {\n      const infotext = this.props.infotext;\n      let formdata = {\n        sections: [{\n          heading: infotext.section[0].heading,\n          paragraph: infotext.section[0].paragraph\n        }, {\n          heading: infotext.section[1].heading,\n          paragraph: infotext.section[1].paragraph\n        }, {\n          heading: infotext.section[2].heading,\n          paragraph: infotext.section[2].paragraph\n        }, {\n          heading: infotext.section[3].heading,\n          paragraph: infotext.section[3].paragraph\n        }]\n      };\n      this.setState({\n        formdata\n      });\n    }\n  } // *************** UPLOAD LOGIC ********************\n\n\n  render() {\n    console.log(this.props);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"admin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"admin_info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 21\n      }\n    }, \"Edit Info Page\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.submitForm,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 33\n      }\n    }, \"Paragraph 1 Heading\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Paragraph 1 Heading\",\n      defaultValue: this.state.formdata.sections[0].heading,\n      onChange: event => this.handleInput(event),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 37\n      }\n    }))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 33\n      }\n    }, \"Paragraph 1 Body\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      type: \"text\",\n      placeholder: \"Paragraph 1 Content\",\n      defaultValue: this.state.formdata.sections[0].paragraph,\n      onChange: event => this.handleInput(event),\n      rows: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 37\n      }\n    }))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 33\n      }\n    }, \"Paragraph 1 Image\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: `/images/info/1.jpg`,\n      onError: this.addDefaultImg,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form_element\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      className: \"form-control\",\n      name: \"file\",\n      onChange: this.onChangeHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-success btn-block\",\n      onClick: () => {\n        this.onClickHandler(1);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 41\n      }\n    }, \"Upload\")))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      colSpan: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 49\n      }\n    }))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 33\n      }\n    }, \"Paragraph 2 Heading\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Paragraph 2 Heading\",\n      defaultValue: this.state.formdata.sections[1].heading,\n      onChange: event => this.handleInput(event),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 37\n      }\n    }))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 33\n      }\n    }, \"Paragraph 2 Body\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      type: \"text\",\n      placeholder: \"Paragraph 2 Content\",\n      defaultValue: this.state.formdata.sections[1].paragraph,\n      onChange: event => this.handleInput(event),\n      rows: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 37\n      }\n    }))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 33\n      }\n    }, \"Paragraph 2 Image\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: `/images/info/2.jpg`,\n      onError: this.addDefaultImg,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form_element\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      className: \"form-control\",\n      name: \"file\",\n      onChange: this.onChangeHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-success btn-block\",\n      onClick: () => {\n        this.onClickHandler(2);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 41\n      }\n    }, \"Upload\")))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      colSpan: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 49\n      }\n    }))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 33\n      }\n    }, \"Paragraph 3 Heading\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Paragraph 3 Heading\",\n      defaultValue: this.state.formdata.sections[2].heading,\n      onChange: event => this.handleInput(event),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 37\n      }\n    }))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 33\n      }\n    }, \"Paragraph 3 Body\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      type: \"text\",\n      placeholder: \"Paragraph 3 Content\",\n      defaultValue: this.state.formdata.sections[2].paragraph,\n      onChange: event => this.handleInput(event),\n      rows: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 37\n      }\n    }))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 33\n      }\n    }, \"Paragraph 3 Image\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: `/images/info/3.jpg`,\n      onError: this.addDefaultImg,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form_element\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      className: \"form-control\",\n      name: \"file\",\n      onChange: this.onChangeHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-success btn-block\",\n      onClick: () => {\n        this.onClickHandler(3);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 41\n      }\n    }, \"Upload\")))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      colSpan: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 49\n      }\n    }))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 33\n      }\n    }, \"Paragraph 4 Heading\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Paragraph 4 Heading\",\n      defaultValue: this.state.formdata.sections[3].heading,\n      onChange: event => this.handleInput(event),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 37\n      }\n    }))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 33\n      }\n    }, \"Paragraph 4 Body\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 438,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      type: \"text\",\n      placeholder: \"Paragraph 4 Content\",\n      defaultValue: this.state.formdata.sections[3].paragraph,\n      onChange: event => this.handleInput(event),\n      rows: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 37\n      }\n    }))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 450,\n        columnNumber: 33\n      }\n    }, \"Paragraph 4 Image\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 451,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: `/images/info/4.jpg`,\n      onError: this.addDefaultImg,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 452,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form_element\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      className: \"form-control\",\n      name: \"file\",\n      onChange: this.onChangeHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-success btn-block\",\n      onClick: () => {\n        this.onClickHandler(4);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 456,\n        columnNumber: 41\n      }\n    }, \"Upload\")))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 462,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      colSpan: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 49\n      }\n    }))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 467,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 37\n      }\n    }, \"Save Changes\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 471,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.cancel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 37\n      }\n    }, \"Cancel\")))))), this.state.saved ? /*#__PURE__*/React.createElement(\"p\", {\n      className: \"message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 483,\n        columnNumber: 25\n      }\n    }, \"Information page updated!\") : null));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  // console.log(state);\n  return {\n    infotext: state.infos.text\n  };\n}\n\nexport default withRouter(connect(mapStateToProps)(AdminInfo));","map":{"version":3,"sources":["/Users/johnlinnane/DEV/traveller-collection/client/src/components/AdminSection/admin_info.js"],"names":["React","Component","connect","axios","ToastContainer","toast","withRouter","getInfoText","updateInfoText","AdminInfo","state","formdata","sections","heading","paragraph","onChangeHandler","event","files","target","maxSelectFile","checkMimeType","setState","selectedFile","onClickHandler","number","data","FormData","x","length","append","post","onUploadProgress","ProgressEvent","loaded","total","then","res","console","log","success","alert","catch","err","error","msg","value","types","every","type","z","checkFileSize","size","addDefaultImg","ev","newImg","src","cancel","props","history","push","handleInput","field","newIntroData","introData","title","body","componentDidMount","dispatch","componentDidUpdate","prevProps","prevState","infotext","section","render","submitForm","saved","mapStateToProps","infos","text"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport { ToastContainer, toast } from 'react-toastify';\nimport { withRouter } from \"react-router-dom\";\n\n\n\nimport { getInfoText, updateInfoText } from '../../actions';\n\n\n\nclass AdminInfo extends Component {\n\n\n    state= {\n        // formdata: {\n        //     heading_1: '',\n        //     heading_2: '',\n        //     heading_3: '',\n        //     heading_4: '',\n        //     paragraph_1: '',\n        //     paragraph_2: '',\n        //     paragraph_3: '',\n        //     paragraph_4: ''\n        // }\n        formdata: {\n            sections: [\n                {\n                    heading: '',\n                    paragraph: ''\n                },\n                {\n                    heading: '',\n                    paragraph: ''\n                },\n                {\n                    heading: '',\n                    paragraph: ''\n                },\n                {\n                    heading: '',\n                    paragraph: ''\n                }\n            ]\n            \n        }\n    }\n\n    componentDidMount() {\n        this.props.dispatch(getInfoText());\n\n    }\n\n\n    componentDidUpdate(prevProps, prevState) {\n        if (this.props != prevProps) {\n\n            const infotext = this.props.infotext;\n\n            let formdata = {\n                sections: [\n                    {\n                        heading: infotext.section[0].heading,\n                        paragraph: infotext.section[0].paragraph\n                    },\n                    {\n                        heading: infotext.section[1].heading,\n                        paragraph: infotext.section[1].paragraph\n                    },\n                    {\n                        heading: infotext.section[2].heading,\n                        paragraph: infotext.section[2].paragraph\n                    },\n                    {\n                        heading: infotext.section[3].heading,\n                        paragraph: infotext.section[3].paragraph\n                    }\n                ]\n                \n            }\n\n            this.setState({\n                formdata\n            })\n        }\n    }\n\n\n\n\n\n\n    // *************** UPLOAD LOGIC ********************\n\n    onChangeHandler = (event) => {\n\n\n        var files = event.target.files;\n\n        if (this.maxSelectFile(event) && this.checkMimeType(event) && this.checkMimeType(event)) {  \n            this.setState({\n                selectedFile: files\n            })\n        }\n    }\n\n\n\n    onClickHandler = (number) => {\n        const data = new FormData() \n        \n        if (this.state.selectedFile) {\n            for(var x = 0; x<this.state.selectedFile.length; x++) {\n                data.append('file', this.state.selectedFile[x])\n            }\n\n            // HOST-SELECT\n            axios.post(`http://localhost:8000/upload-info/${number}`, data, {\n            // axios.post(`http://64.227.34.134:8000/upload-info/${number}`, data, { \n                // receive two parameter endpoint url ,form data \n                onUploadProgress: ProgressEvent => {\n                    this.setState({\n                        loaded: (ProgressEvent.loaded / ProgressEvent.total*100)\n                    })\n                }\n            })\n            .then(res => { // then print response status\n                // console.log(res.config.data.id);\n                // console.log(res.statusText);\n                console.log(res);\n                toast.success('upload success')\n                alert('Files uploaded successfully')\n            })\n            .catch(err => { \n                toast.error('upload fail')\n            })\n        }\n        // this.redirectUser(`/items/${this.props.items.item._id}`)\n\n\n    }\n\n    maxSelectFile=(event)=>{\n\n        // console.log(event);\n\n        let files = event.target.files // create file object\n            if (files.length > 1) { \n               const msg = 'Only 1 image can be uploaded at a time'\n               event.target.value = null // discard selected file\n               console.log(msg)\n              return false;\n     \n          }\n        return true;\n     \n    }\n\n    checkMimeType=(event)=>{\n        //getting file object\n        let files = event.target.files \n        //define message container\n        let err = ''\n        // list allow mime type\n        const types = ['image/png', 'image/jpeg', 'image/gif']\n        // loop access array\n        for(var x = 0; x<files.length; x++) {\n         // compare file type find doesn't matach\n            if (types.every(type => files[x].type !== type)) {\n                // create error message and assign to container   \n                err += files[x].type+' is not a supported format\\n';\n            }\n        };\n\n        for(var z = 0; z<err.length; z++) { // loop create toast massage\n            event.target.value = null \n            toast.error(err[z])\n        }\n        return true;\n    }\n\n    checkFileSize=(event)=>{\n        let files = event.target.files\n        let size = 15000 \n        let err = \"\"; \n\n        for(var x = 0; x<files.length; x++) {\n            if (files[x].size > size) {\n                err += files[x].type+'is too large, please pick a smaller file\\n';\n            }\n        };\n\n        for(var z = 0; z<err.length; z++) {\n            toast.error(err[z])\n            event.target.value = null\n        }\n        return true;\n   \n    }    \n\n    // ****************************************************\n\n\n\n\n    addDefaultImg = (ev) => {\n        const newImg = '/images/default/default.jpg';\n        if (ev.target.src !== newImg) {\n            ev.target.src = newImg\n        }  \n    }\n\n    cancel = () => {\n        this.props.history.push(`/admin`)\n    }\n\n\n\n    handleInput = (event, field) => {\n\n        const newIntroData = {\n            ...this.state.introData\n        }\n\n\n        if (field === 'title') {\n            newIntroData.title = event.target.value;\n        }\n\n        if (field === 'body') {\n            newIntroData.body = event.target.value;\n        }\n\n        this.setState({\n            introData: newIntroData\n        })\n        // console.log(newFormdata);\n    }\n\n\n    render() {\n\n        console.log(this.props)\n\n\n\n        return (\n\n\n\n            <div className=\"admin\">\n                <div className=\"admin_info\">\n\n                    <h1>Edit Info Page</h1>\n\n\n                    <form onSubmit={this.submitForm}>\n                        <table>\n                            <tbody>\n\n\n\n\n\n\n                            {/* PARAGRAPH ONE */}\n                            \n                            <tr>\n                                <td>\n                                    Paragraph 1 Heading\n                                </td>\n\n                                <td>\n                                    <input\n                                        type=\"text\"\n                                        placeholder=\"Paragraph 1 Heading\"\n                                        defaultValue={this.state.formdata.sections[0].heading} \n                                        onChange={(event) => this.handleInput(event)}\n                                    />\n                                </td>\n                            </tr>\n\n                            \n                            <tr>\n                                <td>\n                                    Paragraph 1 Body\n                                </td>\n                                <td>\n                                    <textarea\n                                        type=\"text\"\n                                        placeholder=\"Paragraph 1 Content\"\n                                        defaultValue={this.state.formdata.sections[0].paragraph} \n                                        onChange={(event) => this.handleInput(event)}\n                                        rows={6}\n                                    />\n                                </td>\n                            </tr>\n\n                            <tr>\n                                <td>Paragraph 1 Image</td>\n                                <td>\n                                    \n                                    <img src={`/images/info/1.jpg`} onError={this.addDefaultImg}/>\n                                    <div className=\"form_element\">\n                                        <input type=\"file\" className=\"form-control\" name=\"file\" onChange={this.onChangeHandler}/>\n                                        <br />\n                                        <button type=\"button\" className=\"btn btn-success btn-block\" onClick={ () => {this.onClickHandler(1)} }>Upload</button> \n                                    </div>\n                                </td>\n                            </tr>\n\n                            <tr>\n                                <td colSpan=\"2\"><hr/></td>\n                            </tr>\n\n\n                            {/* PARAGRAPH TWO */}\n                            \n                            <tr>\n                                <td>\n                                    Paragraph 2 Heading\n                                </td>\n\n                                <td>\n                                    <input\n                                        type=\"text\"\n                                        placeholder=\"Paragraph 2 Heading\"\n                                        defaultValue={this.state.formdata.sections[1].heading} \n                                        onChange={(event) => this.handleInput(event)}\n                                    />\n                                </td>\n                            </tr>\n\n                            \n                            <tr>\n                                <td>\n                                    Paragraph 2 Body\n                                </td>\n                                <td>\n                                    <textarea\n                                        type=\"text\"\n                                        placeholder=\"Paragraph 2 Content\"\n                                        defaultValue={this.state.formdata.sections[1].paragraph} \n                                        onChange={(event) => this.handleInput(event)}\n                                        rows={6}\n                                    />\n                                </td>\n                            </tr>\n\n                            <tr>\n                                <td>Paragraph 2 Image</td>\n                                <td>\n                                    <img src={`/images/info/2.jpg`} onError={this.addDefaultImg}/>\n                                    <div className=\"form_element\">\n                                        <input type=\"file\" className=\"form-control\" name=\"file\" onChange={this.onChangeHandler}/>\n                                        <br />\n                                        <button type=\"button\" className=\"btn btn-success btn-block\" onClick={ () => {this.onClickHandler(2)} }>Upload</button> \n                                    </div>\n                                </td>\n                            </tr>\n\n                            <tr>\n                                <td colSpan=\"2\"><hr/></td>\n                            </tr>\n\n                            {/* PARAGRAPH THREE */}\n                            \n                            <tr>\n                                <td>\n                                    Paragraph 3 Heading\n                                </td>\n\n                                <td>\n                                    <input\n                                        type=\"text\"\n                                        placeholder=\"Paragraph 3 Heading\"\n                                        defaultValue={this.state.formdata.sections[2].heading} \n                                        onChange={(event) => this.handleInput(event)}\n                                    />\n                                </td>\n                            </tr>\n\n                            \n                            <tr>\n                                <td>\n                                    Paragraph 3 Body\n                                </td>\n                                <td>\n                                    <textarea\n                                        type=\"text\"\n                                        placeholder=\"Paragraph 3 Content\"\n                                        defaultValue={this.state.formdata.sections[2].paragraph} \n                                        onChange={(event) => this.handleInput(event)}\n                                        rows={6}\n                                    />\n                                </td>\n                            </tr>\n\n                            <tr>\n                                <td>Paragraph 3 Image</td>\n                                <td>\n                                    <img src={`/images/info/3.jpg`} onError={this.addDefaultImg}/>\n                                    <div className=\"form_element\">\n                                        <input type=\"file\" className=\"form-control\" name=\"file\" onChange={this.onChangeHandler}/>\n                                        <br />\n                                        <button type=\"button\" className=\"btn btn-success btn-block\" onClick={ () => {this.onClickHandler(3)} }>Upload</button> \n                                    </div>\n                                </td>\n                            </tr>\n\n                            <tr>\n                                <td colSpan=\"2\"><hr/></td>\n                            </tr>\n\n                            {/* PARAGRAPH FOUR */}\n                            \n                            <tr>\n                                <td>\n                                    Paragraph 4 Heading\n                                </td>\n\n                                <td>\n                                    <input\n                                        type=\"text\"\n                                        placeholder=\"Paragraph 4 Heading\"\n                                        defaultValue={this.state.formdata.sections[3].heading} \n                                        onChange={(event) => this.handleInput(event)}\n                                    />\n                                </td>\n                            </tr>\n\n                            \n                            <tr>\n                                <td>\n                                    Paragraph 4 Body\n                                </td>\n                                <td>\n                                    <textarea\n                                        type=\"text\"\n                                        placeholder=\"Paragraph 4 Content\"\n                                        defaultValue={this.state.formdata.sections[3].paragraph} \n                                        onChange={(event) => this.handleInput(event)}\n                                        rows={6}\n                                    />\n                                </td>\n                            </tr>\n\n                            <tr>\n                                <td>Paragraph 4 Image</td>\n                                <td>\n                                    <img src={`/images/info/4.jpg`} onError={this.addDefaultImg}/>\n                                    <div className=\"form_element\">\n                                        <input type=\"file\" className=\"form-control\" name=\"file\" onChange={this.onChangeHandler}/>\n                                        <br />\n                                        <button type=\"button\" className=\"btn btn-success btn-block\" onClick={ () => {this.onClickHandler(4)} }>Upload</button> \n                                    </div>\n                                </td>\n                            </tr>\n                            \n\n                            <tr>\n                                <td colSpan=\"2\"><hr/></td>\n                            </tr>\n\n                            <tr>\n                                <td>\n                                    <button type=\"submit\">Save Changes</button>\n                                </td>\n\n                                <td>\n                                    <button type=\"button\" onClick={this.cancel}>Cancel</button>\n                                </td>\n                                \n                            </tr>                  \n\n\n                        </tbody>\n                        </table>\n                    </form>\n\n                    {this.state.saved ?\n                        <p className=\"message\">Information page updated!</p>\n                    : null}\n\n                    \n                </div>\n            </div>\n        );\n    }\n}\n\nfunction mapStateToProps(state) {\n    // console.log(state);\n\n    return {\n        infotext: state.infos.text\n        \n    }\n}\n\n\nexport default withRouter(connect(mapStateToProps)(AdminInfo));\n\n\n\n"]},"metadata":{},"sourceType":"module"}