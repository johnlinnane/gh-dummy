{"ast":null,"code":"var _jsxFileName = \"/Users/johnlinnane/DEV/tc-book/client/src/widgetsUI/tags.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport ReactDOM from 'react-dom';\nimport { WithContext as ReactTags } from 'react-tag-input';\nimport { updateItem } from '../actions';\nconst KeyCodes = {\n  comma: 188,\n  enter: 13\n};\nconst delimiters = [KeyCodes.comma, KeyCodes.enter];\n\nclass Tags extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      id: '',\n      tags: [],\n      suggestions: [{\n        id: \"Geography\",\n        text: \"Geography\"\n      }, {\n        id: \"History\",\n        text: \"History\"\n      }, {\n        id: 'Literature',\n        text: 'Literature'\n      }, {\n        id: 'Photography',\n        text: 'Photography'\n      }, {\n        id: 'Music',\n        text: 'Music'\n      }, {\n        id: 'Theatre',\n        text: 'Theatre'\n      }, {\n        id: 'Visual Arts',\n        text: 'Visual Arts'\n      }, {\n        id: 'Language',\n        text: 'Language'\n      }]\n    };\n    this.handleDelete = this.handleDelete.bind(this);\n    this.handleAddition = this.handleAddition.bind(this);\n    this.handleDrag = this.handleDrag.bind(this);\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    return {\n      tags: nextProps.tags,\n      id: nextProps.id\n    };\n  }\n\n  handleDelete(i) {\n    console.log('handle sub');\n    const {\n      tags\n    } = this.state;\n    this.setState({\n      tags: tags.filter((tag, index) => index !== i)\n    });\n  }\n\n  handleAddition(tag) {\n    console.log('handle addition');\n    this.setState(state => ({\n      tags: [...state.tags, tag]\n    }));\n    console.log(state);\n    this.props.dispatch(updateItem({\n      _id: this.state.id,\n      tags: ['froub'] // tags: this.state.tags\n\n    }));\n  }\n\n  handleDrag(tag, currPos, newPos) {\n    const tags = [...this.state.tags];\n    const newTags = tags.slice();\n    newTags.splice(currPos, 1);\n    newTags.splice(newPos, 0, tag); // re-render\n\n    this.setState({\n      tags: newTags\n    });\n  }\n\n  render() {\n    console.log(this.state);\n    const {\n      tags,\n      suggestions\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(ReactTags, {\n      tags: tags,\n      suggestions: suggestions,\n      handleDelete: this.handleDelete,\n      handleAddition: this.handleAddition,\n      handleDrag: this.handleDrag,\n      delimiters: delimiters,\n      placeholder: 'Enter some keywords here',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\n; // export default Tags;\n\nconst mapDispatchToProps = dispatch => ({\n  dispatch\n});\n\nexport default connect(null, mapDispatchToProps)(Tags);","map":{"version":3,"sources":["/Users/johnlinnane/DEV/tc-book/client/src/widgetsUI/tags.js"],"names":["React","connect","ReactDOM","WithContext","ReactTags","updateItem","KeyCodes","comma","enter","delimiters","Tags","Component","constructor","props","state","id","tags","suggestions","text","handleDelete","bind","handleAddition","handleDrag","getDerivedStateFromProps","nextProps","prevState","i","console","log","setState","filter","tag","index","dispatch","_id","currPos","newPos","newTags","slice","splice","render","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport ReactDOM from 'react-dom';\nimport { WithContext as ReactTags } from 'react-tag-input';\nimport { updateItem } from '../actions';\n \n\n\nconst KeyCodes = {\n  comma: 188,\n  enter: 13,\n};\n \nconst delimiters = [KeyCodes.comma, KeyCodes.enter];\n \nclass Tags extends React.Component {\n    constructor(props) {\n        super(props);\n \n        this.state = {\n            id: '',\n            tags: [],\n            suggestions: [\n                { id: \"Geography\", text: \"Geography\" },\n                { id: \"History\", text: \"History\" },\n                { id: 'Literature', text: 'Literature' },\n                { id: 'Photography', text: 'Photography' },\n                { id: 'Music', text: 'Music' },\n                { id: 'Theatre', text: 'Theatre' },\n                { id: 'Visual Arts', text: 'Visual Arts' },\n                { id: 'Language', text: 'Language' }\n             ]\n        };\n        this.handleDelete = this.handleDelete.bind(this);\n        this.handleAddition = this.handleAddition.bind(this);\n        this.handleDrag = this.handleDrag.bind(this);\n    }\n \n  \n\n    static getDerivedStateFromProps(nextProps, prevState) {\n        return {\n            tags: nextProps.tags,\n            id: nextProps.id,\n\n        };\n    }\n\n    \n\n    handleDelete(i) {\n        console.log('handle sub');\n\n        const { tags } = this.state;\n        this.setState({\n         tags: tags.filter((tag, index) => index !== i),\n        });\n    }\n \n    handleAddition(tag) {\n        console.log('handle addition');\n        this.setState(state => ({ tags: [...state.tags, tag] }));\n        console.log(state);\n        this.props.dispatch(updateItem({\n            _id: this.state.id,\n            tags: ['froub']\n            // tags: this.state.tags\n            \n        }\n    ))\n    }\n \n    handleDrag(tag, currPos, newPos) {\n        const tags = [...this.state.tags];\n        const newTags = tags.slice();\n \n        newTags.splice(currPos, 1);\n        newTags.splice(newPos, 0, tag);\n \n        // re-render\n        this.setState({ tags: newTags });\n    }\n \n    render() {\n        console.log(this.state)\n        const { tags, suggestions } = this.state;\n\n        return (\n            <div>\n                <ReactTags tags={tags}\n                    suggestions={suggestions}\n                    handleDelete={this.handleDelete}\n                    handleAddition={this.handleAddition}\n                    handleDrag={this.handleDrag}\n                    delimiters={delimiters} \n                    placeholder={'Enter some keywords here'}\n                />\n                \n             </div>\n        )\n    }\n};\n \n// export default Tags;\n\nconst mapDispatchToProps = dispatch => ({\n    dispatch       \n })\n\nexport default connect(null, mapDispatchToProps)(Tags);\n\n"]},"metadata":{},"sourceType":"module"}