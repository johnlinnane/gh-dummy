{"ast":null,"code":"function removeUploadedFiles(uploadedFiles, remove, cb) {\n  var length = uploadedFiles.length;\n  var errors = [];\n  if (length === 0) return cb(null, errors);\n\n  function handleFile(idx) {\n    var file = uploadedFiles[idx];\n    remove(file, function (err) {\n      if (err) {\n        err.file = file;\n        err.field = file.fieldname;\n        errors.push(err);\n      }\n\n      if (idx < length - 1) {\n        handleFile(idx + 1);\n      } else {\n        cb(null, errors);\n      }\n    });\n  }\n\n  handleFile(0);\n}\n\nmodule.exports = removeUploadedFiles;","map":{"version":3,"sources":["/Users/johnlinnane/DEV/traveller-collection/client/node_modules/multer/lib/remove-uploaded-files.js"],"names":["removeUploadedFiles","uploadedFiles","remove","cb","length","errors","handleFile","idx","file","err","field","fieldname","push","module","exports"],"mappings":"AAAA,SAASA,mBAAT,CAA8BC,aAA9B,EAA6CC,MAA7C,EAAqDC,EAArD,EAAyD;AACvD,MAAIC,MAAM,GAAGH,aAAa,CAACG,MAA3B;AACA,MAAIC,MAAM,GAAG,EAAb;AAEA,MAAID,MAAM,KAAK,CAAf,EAAkB,OAAOD,EAAE,CAAC,IAAD,EAAOE,MAAP,CAAT;;AAElB,WAASC,UAAT,CAAqBC,GAArB,EAA0B;AACxB,QAAIC,IAAI,GAAGP,aAAa,CAACM,GAAD,CAAxB;AAEAL,IAAAA,MAAM,CAACM,IAAD,EAAO,UAAUC,GAAV,EAAe;AAC1B,UAAIA,GAAJ,EAAS;AACPA,QAAAA,GAAG,CAACD,IAAJ,GAAWA,IAAX;AACAC,QAAAA,GAAG,CAACC,KAAJ,GAAYF,IAAI,CAACG,SAAjB;AACAN,QAAAA,MAAM,CAACO,IAAP,CAAYH,GAAZ;AACD;;AAED,UAAIF,GAAG,GAAGH,MAAM,GAAG,CAAnB,EAAsB;AACpBE,QAAAA,UAAU,CAACC,GAAG,GAAG,CAAP,CAAV;AACD,OAFD,MAEO;AACLJ,QAAAA,EAAE,CAAC,IAAD,EAAOE,MAAP,CAAF;AACD;AACF,KAZK,CAAN;AAaD;;AAEDC,EAAAA,UAAU,CAAC,CAAD,CAAV;AACD;;AAEDO,MAAM,CAACC,OAAP,GAAiBd,mBAAjB","sourcesContent":["function removeUploadedFiles (uploadedFiles, remove, cb) {\n  var length = uploadedFiles.length\n  var errors = []\n\n  if (length === 0) return cb(null, errors)\n\n  function handleFile (idx) {\n    var file = uploadedFiles[idx]\n\n    remove(file, function (err) {\n      if (err) {\n        err.file = file\n        err.field = file.fieldname\n        errors.push(err)\n      }\n\n      if (idx < length - 1) {\n        handleFile(idx + 1)\n      } else {\n        cb(null, errors)\n      }\n    })\n  }\n\n  handleFile(0)\n}\n\nmodule.exports = removeUploadedFiles\n"]},"metadata":{},"sourceType":"script"}