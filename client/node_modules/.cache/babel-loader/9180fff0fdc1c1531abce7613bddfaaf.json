{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar union_1 = __importDefault(require(\"lodash/union\"));\n\nvar without_1 = __importDefault(require(\"lodash/without\"));\n\nvar EnterLeaveCounter =\n/** @class */\nfunction () {\n  function EnterLeaveCounter() {\n    this.entered = [];\n  }\n\n  EnterLeaveCounter.prototype.enter = function (enteringNode) {\n    var previousLength = this.entered.length;\n\n    var isNodeEntered = function (node) {\n      return document.documentElement.contains(node) && (!node.contains || node.contains(enteringNode));\n    };\n\n    this.entered = union_1.default(this.entered.filter(isNodeEntered), [enteringNode]);\n    return previousLength === 0 && this.entered.length > 0;\n  };\n\n  EnterLeaveCounter.prototype.leave = function (leavingNode) {\n    var previousLength = this.entered.length;\n    this.entered = without_1.default(this.entered.filter(function (node) {\n      return document.documentElement.contains(node);\n    }), leavingNode);\n    return previousLength > 0 && this.entered.length === 0;\n  };\n\n  EnterLeaveCounter.prototype.reset = function () {\n    this.entered = [];\n  };\n\n  return EnterLeaveCounter;\n}();\n\nexports.default = EnterLeaveCounter;","map":{"version":3,"sources":["../src/EnterLeaveCounter.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,IAAA,OAAA,GAAA,eAAA,CAAA,OAAA,CAAA,cAAA,CAAA,CAAA;;AACA,IAAA,SAAA,GAAA,eAAA,CAAA,OAAA,CAAA,gBAAA,CAAA,CAAA;;AAEA,IAAA,iBAAA;AAAA;AAAA,YAAA;AAAA,WAAA,iBAAA,GAAA;AACS,SAAA,OAAA,GAAiB,EAAjB;AA4BR;;AA1BO,EAAA,iBAAA,CAAA,SAAA,CAAA,KAAA,GAAP,UAAa,YAAb,EAA8B;AAC7B,QAAM,cAAc,GAAG,KAAK,OAAL,CAAa,MAApC;;AAEA,QAAM,aAAa,GAAG,UAAC,IAAD,EAAU;AAC/B,aAAA,QAAQ,CAAC,eAAT,CAAyB,QAAzB,CAAkC,IAAlC,MACC,CAAC,IAAI,CAAC,QAAN,IAAkB,IAAI,CAAC,QAAL,CAAc,YAAd,CADnB,CAAA;AAC+C,KAFhD;;AAIA,SAAK,OAAL,GAAe,OAAA,CAAA,OAAA,CAAM,KAAK,OAAL,CAAa,MAAb,CAAoB,aAApB,CAAN,EAA0C,CAAC,YAAD,CAA1C,CAAf;AAEA,WAAO,cAAc,KAAK,CAAnB,IAAwB,KAAK,OAAL,CAAa,MAAb,GAAsB,CAArD;AACA,GAVM;;AAYA,EAAA,iBAAA,CAAA,SAAA,CAAA,KAAA,GAAP,UAAa,WAAb,EAA6B;AAC5B,QAAM,cAAc,GAAG,KAAK,OAAL,CAAa,MAApC;AAEA,SAAK,OAAL,GAAe,SAAA,CAAA,OAAA,CACd,KAAK,OAAL,CAAa,MAAb,CAAoB,UAAA,IAAA,EAAI;AAAI,aAAA,QAAQ,CAAC,eAAT,CAAyB,QAAzB,CAAA,IAAA,CAAA;AAAuC,KAAnE,CADc,EAEd,WAFc,CAAf;AAKA,WAAO,cAAc,GAAG,CAAjB,IAAsB,KAAK,OAAL,CAAa,MAAb,KAAwB,CAArD;AACA,GATM;;AAWA,EAAA,iBAAA,CAAA,SAAA,CAAA,KAAA,GAAP,YAAA;AACC,SAAK,OAAL,GAAe,EAAf;AACA,GAFM;;AAGR,SAAA,iBAAA;AAAC,CA7BD,EAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar union_1 = __importDefault(require(\"lodash/union\"));\nvar without_1 = __importDefault(require(\"lodash/without\"));\nvar EnterLeaveCounter = /** @class */ (function () {\n    function EnterLeaveCounter() {\n        this.entered = [];\n    }\n    EnterLeaveCounter.prototype.enter = function (enteringNode) {\n        var previousLength = this.entered.length;\n        var isNodeEntered = function (node) {\n            return document.documentElement.contains(node) &&\n                (!node.contains || node.contains(enteringNode));\n        };\n        this.entered = union_1.default(this.entered.filter(isNodeEntered), [enteringNode]);\n        return previousLength === 0 && this.entered.length > 0;\n    };\n    EnterLeaveCounter.prototype.leave = function (leavingNode) {\n        var previousLength = this.entered.length;\n        this.entered = without_1.default(this.entered.filter(function (node) { return document.documentElement.contains(node); }), leavingNode);\n        return previousLength > 0 && this.entered.length === 0;\n    };\n    EnterLeaveCounter.prototype.reset = function () {\n        this.entered = [];\n    };\n    return EnterLeaveCounter;\n}());\nexports.default = EnterLeaveCounter;\n//# sourceMappingURL=EnterLeaveCounter.js.map"]},"metadata":{},"sourceType":"script"}