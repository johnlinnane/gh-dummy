{"ast":null,"code":"var _jsxFileName = \"/Users/johnlinnane/DEV/traveller-collection/client/src/components/AdminSection/admin_add_cat.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from \"react-router-dom\";\nimport axios from 'axios';\nimport { ToastContainer, toast } from 'react-toastify';\nimport { addCat } from '../../actions';\n\nclass AdminAddCat extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      catdata: {\n        title: '',\n        description: ''\n      },\n      saved: false\n    };\n\n    this.addDefaultImg = ev => {\n      const newImg = '/images/default/default.jpg';\n\n      if (ev.target.src !== newImg) {\n        ev.target.src = newImg;\n      }\n    };\n\n    this.cancel = () => {\n      this.props.history.push(`/admin`);\n    };\n\n    this.handleInput = (event, field, i) => {\n      const newCatdata = { ...this.state.catdata\n      };\n\n      if (field === 'title') {\n        newCatdata.title = event.target.value;\n      }\n\n      if (field === 'description') {\n        newCatdata.description = event.target.value;\n      } // copy it back to state\n\n\n      this.setState({\n        catdata: newCatdata\n      });\n      console.log(this.state);\n    };\n\n    this.submitForm = e => {\n      e.preventDefault(); // console.log(this.state.formdata);\n      // dispatch an action, adding updated  formdata + the user id from the redux store\n\n      this.props.dispatch(addCat({ ...this.state.catdata\n      }));\n      this.setState({\n        saved: true\n      });\n      setTimeout(() => {\n        // this.props.history.push(`/user/edit-item-sel/${this.props.items.newitem.itemId}`);\n        this.props.history.push(`/admin`);\n      }, 2000);\n    };\n  }\n\n  componentDidMount() {// this.props.dispatch(blahBlah());\n  }\n\n  componentDidUpdate(prevProps, prevState) {}\n\n  render() {\n    console.log(this.state);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"admin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.submitForm,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 41\n      }\n    }, \"Title\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Enter title\",\n      defaultValue: this.state.catdata.title,\n      onChange: event => this.handleInput(event, 'title'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 41\n      }\n    }))), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 41\n      }\n    }, \"Description\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      type: \"text\",\n      placeholder: \"Enter category description\",\n      defaultValue: this.state.catdata.description,\n      onChange: event => this.handleInput(event, 'description'),\n      rows: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 41\n      }\n    }))), /*#__PURE__*/React.createElement(\"tr\", {\n      className: \"spacer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"tr\", {\n      className: \"spacer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 41\n      }\n    }, \"Add Category\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.cancel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 41\n      }\n    }, \"Cancel\"))), /*#__PURE__*/React.createElement(\"tr\", {\n      className: \"spacer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 33\n      }\n    })))), this.state.saved ? /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 29\n      }\n    }, \"Sucessfully added new category.\") : null));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  // console.log(state);\n  return {// xxx: state.xxx.xxxx\n  };\n}\n\nexport default withRouter(connect(mapStateToProps)(AdminAddCat));","map":{"version":3,"sources":["/Users/johnlinnane/DEV/traveller-collection/client/src/components/AdminSection/admin_add_cat.js"],"names":["React","Component","connect","withRouter","axios","ToastContainer","toast","addCat","AdminAddCat","state","catdata","title","description","saved","addDefaultImg","ev","newImg","target","src","cancel","props","history","push","handleInput","event","field","i","newCatdata","value","setState","console","log","submitForm","e","preventDefault","dispatch","setTimeout","componentDidMount","componentDidUpdate","prevProps","prevState","render","mapStateToProps"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,cAAT,EAAyBC,KAAzB,QAAsC,gBAAtC;AAGA,SAASC,MAAT,QAAuB,eAAvB;;AAIA,MAAMC,WAAN,SAA0BP,SAA1B,CAAoC;AAAA;AAAA;AAAA,SAEhCQ,KAFgC,GAExB;AACJC,MAAAA,OAAO,EAAE;AACLC,QAAAA,KAAK,EAAE,EADF;AAELC,QAAAA,WAAW,EAAE;AAFR,OADL;AAKJC,MAAAA,KAAK,EAAE;AALH,KAFwB;;AAAA,SAoBhCC,aApBgC,GAoBfC,EAAD,IAAQ;AACpB,YAAMC,MAAM,GAAG,6BAAf;;AACA,UAAID,EAAE,CAACE,MAAH,CAAUC,GAAV,KAAkBF,MAAtB,EAA8B;AAC1BD,QAAAA,EAAE,CAACE,MAAH,CAAUC,GAAV,GAAgBF,MAAhB;AACH;AACJ,KAzB+B;;AAAA,SA2BhCG,MA3BgC,GA2BvB,MAAM;AACX,WAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAyB,QAAzB;AACH,KA7B+B;;AAAA,SAgChCC,WAhCgC,GAgClB,CAACC,KAAD,EAAQC,KAAR,EAAeC,CAAf,KAAqB;AAE/B,YAAMC,UAAU,GAAG,EACf,GAAG,KAAKlB,KAAL,CAAWC;AADC,OAAnB;;AAIA,UAAIe,KAAK,KAAK,OAAd,EAAuB;AACnBE,QAAAA,UAAU,CAAChB,KAAX,GAAmBa,KAAK,CAACP,MAAN,CAAaW,KAAhC;AAEH;;AAED,UAAIH,KAAK,KAAK,aAAd,EAA6B;AACzBE,QAAAA,UAAU,CAACf,WAAX,GAAyBY,KAAK,CAACP,MAAN,CAAaW,KAAtC;AACH,OAb8B,CAe/B;;;AACA,WAAKC,QAAL,CAAc;AACVnB,QAAAA,OAAO,EAAEiB;AADC,OAAd;AAGAG,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKtB,KAAjB;AACH,KApD+B;;AAAA,SAsDhCuB,UAtDgC,GAsDlBC,CAAD,IAAO;AAChBA,MAAAA,CAAC,CAACC,cAAF,GADgB,CAEhB;AAEA;;AACA,WAAKd,KAAL,CAAWe,QAAX,CAAoB5B,MAAM,CAAC,EACnB,GAAG,KAAKE,KAAL,CAAWC;AADK,OAAD,CAA1B;AAIA,WAAKmB,QAAL,CAAc;AACVhB,QAAAA,KAAK,EAAE;AADG,OAAd;AAIAuB,MAAAA,UAAU,CAAC,MAAM;AACb;AACA,aAAKhB,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAyB,QAAzB;AACH,OAHS,EAGP,IAHO,CAAV;AAIH,KAvE+B;AAAA;;AAUhCe,EAAAA,iBAAiB,GAAG,CAChB;AACH;;AAGDC,EAAAA,kBAAkB,CAACC,SAAD,EAAYC,SAAZ,EAAuB,CACxC;;AA0DDC,EAAAA,MAAM,GAAG;AACLX,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKtB,KAAjB;AAEA,wBACI;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAM,MAAA,QAAQ,EAAE,KAAKuB,UAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,CADJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEI;AACI,MAAA,IAAI,EAAC,MADT;AAEI,MAAA,WAAW,EAAE,aAFjB;AAGI,MAAA,YAAY,EAAE,KAAKvB,KAAL,CAAWC,OAAX,CAAmBC,KAHrC;AAII,MAAA,QAAQ,EAAGa,KAAD,IAAW,KAAKD,WAAL,CAAiBC,KAAjB,EAAwB,OAAxB,CAJzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CAJJ,CADJ,eAqBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADJ,CADJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AACI,MAAA,IAAI,EAAC,MADT;AAEI,MAAA,WAAW,EAAC,4BAFhB;AAGI,MAAA,YAAY,EAAE,KAAKf,KAAL,CAAWC,OAAX,CAAmBE,WAHrC;AAII,MAAA,QAAQ,EAAGY,KAAD,IAAW,KAAKD,WAAL,CAAiBC,KAAjB,EAAwB,aAAxB,CAJzB;AAKI,MAAA,IAAI,EAAE,CALV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAJJ,CArBJ,eAqDI;AAAI,MAAA,SAAS,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MArDJ,eAyDI;AAAI,MAAA,SAAS,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAzDJ,eA2DI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,CADJ,eAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,OAAO,EAAE,KAAKL,MAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,CALJ,CA3DJ,eAsEI;AAAI,MAAA,SAAS,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAtEJ,CADA,CADJ,CADJ,EAgFK,KAAKV,KAAL,CAAWI,KAAX,gBACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCADH,GAEC,IAlFN,CADR,CADJ;AAyFH;;AAtK+B;;AA0KpC,SAAS6B,eAAT,CAAyBjC,KAAzB,EAAgC;AAC5B;AAEA,SAAO,CACH;AADG,GAAP;AAIH;;AAGD,eAAeN,UAAU,CAACD,OAAO,CAACwC,eAAD,CAAP,CAAyBlC,WAAzB,CAAD,CAAzB","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from \"react-router-dom\";\nimport axios from 'axios';\nimport { ToastContainer, toast } from 'react-toastify';\n\n\nimport { addCat } from '../../actions';\n\n\n\nclass AdminAddCat extends Component {\n\n    state = {\n        catdata: {\n            title: '',\n            description: ''\n        },\n        saved: false\n    }\n\n    componentDidMount() {\n        // this.props.dispatch(blahBlah());\n    }\n\n\n    componentDidUpdate(prevProps, prevState) {\n    }\n\n\n\n    addDefaultImg = (ev) => {\n        const newImg = '/images/default/default.jpg';\n        if (ev.target.src !== newImg) {\n            ev.target.src = newImg\n        }  \n    }\n\n    cancel = () => {\n        this.props.history.push(`/admin`)\n    }\n\n\n    handleInput = (event, field, i) => {\n\n        const newCatdata = {\n            ...this.state.catdata\n        }\n\n        if (field === 'title') {\n            newCatdata.title = event.target.value;\n\n        } \n        \n        if (field === 'description') {\n            newCatdata.description = event.target.value;\n        } \n\n        // copy it back to state\n        this.setState({\n            catdata: newCatdata,\n        })\n        console.log(this.state);\n    }\n\n    submitForm = (e) => {\n        e.preventDefault();\n        // console.log(this.state.formdata);\n\n        // dispatch an action, adding updated  formdata + the user id from the redux store\n        this.props.dispatch(addCat({\n                ...this.state.catdata,\n        }));\n\n        this.setState({\n            saved: true\n        })\n\n        setTimeout(() => {\n            // this.props.history.push(`/user/edit-item-sel/${this.props.items.newitem.itemId}`);\n            this.props.history.push(`/admin`);\n        }, 2000)\n    }\n\n\n    render() {\n        console.log(this.state)\n\n        return (\n            <div className=\"admin\">\n                    <div>\n                        <form onSubmit={this.submitForm}>\n                            <table>\n                            <tbody>\n                                <tr>\n                                    <td>\n                                        <h3>Title</h3>\n                                    </td>\n                                    <td>\n\n                                        <input\n                                            type=\"text\"\n                                            placeholder={\"Enter title\"}\n                                            defaultValue={this.state.catdata.title} \n                                            onChange={(event) => this.handleInput(event, 'title')}\n                                        />\n\n\n\n\n                                    </td>\n                                </tr>\n\n\n                                <tr>\n                                    <td>\n                                        <h3>Description</h3>\n                                    </td>\n                                    <td>\n                                        <textarea\n                                            type=\"text\"\n                                            placeholder=\"Enter category description\"\n                                            defaultValue={this.state.catdata.description} \n                                            onChange={(event) => this.handleInput(event, 'description')}\n                                            rows={6}\n                                        />\n                                    </td>\n                                </tr>\n\n\n                                {/* <tr>\n                                    <td>\n                                        <img className=\"change_cat_img\" src={`/images/cover_img_cat/XXXX.jpg`} onError={this.addDefaultImg}/>\n                                    </td>\n                                    <td>\n                                        <div className=\"form_element\">\n                                            <input type=\"file\" className=\"form-control\" multiple name=\"file\" onChange={this.onChangeHandler}/>\n                                            <br />\n                                            <button type=\"button\" className=\"btn btn-success btn-block\" onClick={this.onClickHandler}>Upload</button> \n                                        </div>\n                                    </td>\n                                </tr>\n\n                             */}\n\n                                \n                                <tr className=\"spacer\"></tr>\n\n                                \n\n                                <tr className=\"spacer\"></tr>\n\n                                <tr>\n                                    <td>\n                                        <button type=\"submit\">Add Category</button>\n                                    </td>\n\n                                    <td>\n                                        <button type=\"button\" onClick={this.cancel}>Cancel</button>\n                                    </td>\n                                    \n                                </tr>\n\n                                <tr className=\"spacer\"></tr>\n\n\n                            </tbody>\n                            </table>\n                            \n                        </form>\n                        {this.state.saved ?\n                            <p>Sucessfully added new category.</p>\n                        : null}\n                        \n                    </div>\n            </div>\n        );\n    }\n}\n\n\nfunction mapStateToProps(state) {\n    // console.log(state);\n\n    return {\n        // xxx: state.xxx.xxxx\n        \n    }\n}\n\n\nexport default withRouter(connect(mapStateToProps)(AdminAddCat));"]},"metadata":{},"sourceType":"module"}